{"config":{"lang":["en"],"separator":"[\\s\\-\\.]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"\ud83d\ude80 FastAPI Laravel-Style Boilerplate","text":"<p>The \"batteries-included\" developer experience of Laravel, powered by the high-performance async capabilities of FastAPI.</p> <p>This boilerplate is designed for developers who love Laravel's elegant syntax, clear structure, and powerful CLI, but want to build their next high-performance microservice or AI platform using Python.</p>"},{"location":"index.html#why-this-boilerplate","title":"\ud83d\udd25 Why This Boilerplate?","text":"<p>Most FastAPI projects start as a single <code>main.py</code> and grow into a chaotic mess. This project brings opinionated structure and production-ready patterns out of the box:</p> <ul> <li>\ud83c\udfdb\ufe0f Domain-Driven Design: Clear separation of Controllers, Models, Services, and Jobs.</li> <li>\ud83d\udee0\ufe0f Artisan CLI: A powerful command-line interface for migrations, code generation, and task management.</li> <li>\ud83d\udce1 Real-time Broadcasting: Laravel-like WebSocket channels (Public/Private/Presence).</li> <li>\ud83d\udce6 Unified Storage: Fluent API for Local, S3, FTP, and SFTP.</li> <li>\u26a1 Redis Everything: Caching (Laravel-like Cache facade) and Task Queuing (Celery) pre-configured.</li> <li>\ud83d\udee1\ufe0f Security First: JWT auth, RBAC (Policies &amp; Gates), Rate Limiting, and CORS protection.</li> </ul>"},{"location":"index.html#tech-stack","title":"\ud83d\udee0\ufe0f Tech Stack","text":"<ul> <li>Framework: FastAPI</li> <li>ORM: SQLAlchemy 2.0 (PostgreSQL &amp; MySQL support)</li> <li>Migrations: Alembic</li> <li>Validation: Pydantic v2</li> <li>Task Queue: Celery with Redis</li> <li>Testing: Pytest with Coverage</li> <li>Linting: Ruff (The fastest Python linter)</li> </ul>"},{"location":"index.html#getting-started","title":"\ud83d\ude80 Getting Started","text":""},{"location":"index.html#option-1-docker-recommended","title":"\ud83d\udc33 Option 1: Docker (Recommended)","text":"<p>Launch the entire stack (App, DB, Redis, Worker, Flower) with a single command:</p> <p><pre><code># 1. Clone the repo\ngit clone https://github.com/gargashwani/fastapi_boilerplate.git &amp;&amp; cd fastapi_boilerplate\n\n# 2. Setup environment\ncp .env.example .env\n\n# 3. Start everything\ndocker-compose up -d\n</code></pre> The API will be available at http://localhost:8000 and the API docs at /docs.</p>"},{"location":"index.html#option-2-local-installation-recommended","title":"\ud83d\udc0d Option 2: Local Installation (Recommended)","text":"<p>If you prefer running without Docker:</p> <ol> <li> <p>Install uv (if not already installed):    <pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh\n</code></pre></p> </li> <li> <p>Setup environment &amp; dependencies: <pre><code># Clone the repo\ngit clone https://github.com/gargashwani/fastapi_boilerplate.git &amp;&amp; cd fastapi_boilerplate\n\n# Install dependencies and setup venv\nuv sync\n</code></pre></p> </li> <li> <p>Run Interactive Installer: <pre><code># This handles .env creation, APP_KEY generation, and migrations\nuv run python artisan install\n</code></pre></p> </li> <li> <p>Start the server: <pre><code>uv run python artisan serve\n</code></pre></p> </li> </ol>"},{"location":"index.html#artisan-cli-usage","title":"\ud83c\udfae Artisan CLI Usage","text":"<p>Just like Laravel, we provide an <code>artisan.py</code> script to speed up development:</p> <pre><code># Generate a new Controller\npython artisan make:controller UserProfile\n\n# Run database migrations\npython artisan migrate\n\n# List all scheduled tasks\npython artisan schedule:list\n\n# Generate secure APP_KEY\npython artisan key:generate\n</code></pre>"},{"location":"index.html#authentication-examples","title":"Authentication Examples","text":""},{"location":"index.html#register-a-new-user","title":"Register a New User","text":"<pre><code>curl -X POST http://localhost:8000/api/v1/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"user@example.com\",\n    \"password\": \"Test@12345\",\n    \"full_name\": \"John Doe\",\n    \"is_active\": true,\n    \"is_superuser\": false\n  }'\n</code></pre> <p>Response: <pre><code>{\n  \"id\": 1,\n  \"email\": \"user@example.com\",\n  \"full_name\": \"John Doe\",\n  \"is_active\": true,\n  \"is_superuser\": false,\n  \"created_at\": \"2025-12-18T07:40:47.076834\",\n  \"updated_at\": \"2025-12-18T07:40:47.076838\"\n}\n</code></pre></p> <p>Note: After registration, use the <code>/api/v1/auth/login</code> endpoint to get an authorization token.</p>"},{"location":"index.html#login","title":"Login","text":"<pre><code>curl -X POST http://localhost:8000/api/v1/auth/login \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"username=user@example.com&amp;password=Test@12345\"\n</code></pre> <p>Response: <pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"token_type\": \"bearer\",\n  \"user\": {\n    \"id\": 1,\n    \"email\": \"user@example.com\",\n    \"full_name\": \"John Doe\",\n    \"is_active\": true,\n    \"is_superuser\": false,\n    \"created_at\": \"2025-12-18T07:40:47.076834\",\n    \"updated_at\": \"2025-12-18T07:40:47.076838\"\n  }\n}\n</code></pre></p>"},{"location":"index.html#using-the-authorization-token","title":"Using the Authorization Token","text":"<p>All API endpoints (except <code>/api/v1/auth/login</code> and <code>/api/v1/auth/register</code>) require authentication.</p> <p>After login, use the <code>access_token</code> in the Authorization header for all subsequent requests:</p> <pre><code>curl -X GET http://localhost:8000/api/v1/users/me \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n</code></pre> <p>Without authentication, you'll receive: <pre><code>{\n  \"detail\": \"Not authenticated\"\n}\n</code></pre></p> Endpoint Status Access <code>/api/v1/users/*</code> \u2705 Requires authentication <code>/api/v1/files/*</code> \u2705 Requires authentication <code>/api/v1/broadcasting/*</code> \u2705 Requires authentication <code>/api/v1/auth/login</code> \u274c Public (no authentication) <code>/api/v1/auth/register</code> \u274c Public (no authentication)"},{"location":"index.html#password-requirements","title":"Password Requirements","text":"<ul> <li>Minimum 8 characters</li> <li>Maximum 512 characters (bcrypt limitation handled automatically)</li> <li>At least one uppercase letter (A-Z)</li> <li>At least one lowercase letter (a-z)</li> <li>At least one digit (0-9)</li> </ul>"},{"location":"index.html#api-endpoints","title":"API Endpoints","text":""},{"location":"index.html#authentication","title":"Authentication","text":"<p>Public Endpoints (No authentication required):</p> Method Endpoint Description <code>POST</code> <code>/api/v1/auth/register</code> Register a new user (returns user info only) <code>POST</code> <code>/api/v1/auth/login</code> Login and get access token + user info <p>All other endpoints require authentication. Include the <code>Authorization</code> header: <pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre></p>"},{"location":"index.html#users-authentication-required","title":"Users (Authentication Required)","text":"Method Endpoint Description <code>GET</code> <code>/api/v1/users/me</code> Get current user <code>PUT</code> <code>/api/v1/users/me</code> Update current user <code>GET</code> <code>/api/v1/users</code> Get all users (admin only) <code>GET</code> <code>/api/v1/users/{user_id}</code> Get specific user <code>DELETE</code> <code>/api/v1/users/{user_id}</code> Delete user (admin only)"},{"location":"index.html#files-authentication-required","title":"Files (Authentication Required)","text":"Method Endpoint Description <code>POST</code> <code>/api/v1/files/upload</code> Upload a file <code>GET</code> <code>/api/v1/files/download/{file_path}</code> Download a file <code>GET</code> <code>/api/v1/files/info/{file_path}</code> Get file information <code>DELETE</code> <code>/api/v1/files/delete/{file_path}</code> Delete a file <code>GET</code> <code>/api/v1/files/list</code> List files in directory <code>POST</code> <code>/api/v1/files/copy</code> Copy a file <code>POST</code> <code>/api/v1/files/move</code> Move a file"},{"location":"index.html#broadcasting-authentication-required","title":"Broadcasting (Authentication Required)","text":"Method Endpoint Description <code>WS</code> <code>/api/v1/broadcasting/ws</code> WebSocket connection endpoint (requires token in query parameter: <code>?token=&lt;access_token&gt;</code>) <code>POST</code> <code>/api/v1/broadcasting/auth</code> Authorize private/presence channel access"},{"location":"index.html#documentation","title":"Documentation","text":"Method Endpoint Description <code>GET</code> <code>/docs</code> Swagger UI documentation <code>GET</code> <code>/redoc</code> ReDoc documentation <code>GET</code> <code>/</code> API welcome message"},{"location":"index.html#configuration","title":"Configuration","text":""},{"location":"index.html#database-selection","title":"Database Selection","text":"<p>The boilerplate supports both PostgreSQL and MySQL. Switch between them by changing <code>DB_CONNECTION</code> in your <code>.env</code> file:</p> <p>PostgreSQL (Default): <pre><code>DB_CONNECTION=postgresql\nDB_HOST=localhost\nDB_PORT=5432\nDB_DATABASE=fastapi_boilerplate\nDB_USERNAME=postgres\nDB_PASSWORD=postgres\n</code></pre></p> <p>MySQL: <pre><code>DB_CONNECTION=mysql+pymysql\nDB_HOST=localhost\nDB_PORT=3306\nDB_DATABASE=fastapi_boilerplate\nDB_USERNAME=root\nDB_PASSWORD=root\n# Optional: For MAMP\n# DB_UNIX_SOCKET=/Applications/MAMP/tmp/mysql/mysql.sock\n</code></pre></p> <p>The same SQLAlchemy models work with both databases - no code changes needed!</p>"},{"location":"index.html#file-storage-configuration","title":"File Storage Configuration","text":"<p>The boilerplate provides a Laravel-like file storage system supporting multiple drivers:</p> <p>Local Storage (Default): <pre><code>FILESYSTEM_DISK=local\nFILESYSTEM_ROOT=storage/app\nFILESYSTEM_URL=\n</code></pre></p> <p>Amazon S3: <pre><code>FILESYSTEM_DISK=s3\nAWS_ACCESS_KEY_ID=your-access-key\nAWS_SECRET_ACCESS_KEY=your-secret-key\nAWS_DEFAULT_REGION=us-east-1\nAWS_BUCKET=your-bucket-name\n</code></pre></p> <p>FTP: <pre><code>FILESYSTEM_DISK=ftp\nFTP_HOST=ftp.example.com\nFTP_PORT=21\nFTP_USERNAME=your-username\nFTP_PASSWORD=your-password\n</code></pre></p> <p>SFTP: <pre><code>FILESYSTEM_DISK=sftp\nSFTP_HOST=sftp.example.com\nSFTP_PORT=22\nSFTP_USERNAME=your-username\nSFTP_PASSWORD=your-password\nSFTP_KEY=/path/to/private/key\n</code></pre></p> <p>Switch between storage drivers by changing <code>FILESYSTEM_DISK</code> - same API for all!</p>"},{"location":"index.html#redis-configuration","title":"Redis Configuration","text":"<p>Redis is used for both caching and message queue. Configure in <code>.env</code>:</p> <pre><code>REDIS_HOST=localhost\nREDIS_PORT=6379\nREDIS_DB=0\nREDIS_PASSWORD=\n\n# Cache Configuration\nCACHE_PREFIX=cache:\nCACHE_DEFAULT_TTL=3600\nCACHE_SERIALIZER=json\n</code></pre>"},{"location":"index.html#development","title":"Development","text":""},{"location":"index.html#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8+</li> <li>PostgreSQL or MySQL</li> <li>Redis (for caching and message queue)</li> <li>pip and virtualenv</li> </ul>"},{"location":"index.html#running-the-development-server","title":"Running the Development Server","text":"<pre><code>python main.py\n</code></pre> <p>The API will be available at: - API: http://localhost:8000 - Swagger UI: http://localhost:8000/docs - ReDoc: http://localhost:8000/redoc</p>"},{"location":"index.html#database-migrations","title":"Database Migrations","text":"<pre><code># Create a new migration\nalembic revision --autogenerate -m \"description\"\n\n# Apply migrations\nalembic upgrade head\n\n# Rollback one migration\nalembic downgrade -1\n</code></pre>"},{"location":"index.html#redis-setup","title":"Redis Setup","text":"<p>macOS (Homebrew): <pre><code>brew install redis\nbrew services start redis\n</code></pre></p> <p>Docker: <pre><code>docker run -d -p 6379:6379 redis:latest\n</code></pre></p> <p>Linux: <pre><code>sudo apt-get install redis-server\nsudo systemctl start redis\n</code></pre></p>"},{"location":"index.html#using-redis-cache","title":"Using Redis Cache","text":"<p>The boilerplate provides a Laravel-like caching interface:</p> <pre><code>from app.core.cache import cache\n\n# Basic operations\ncache().put(\"key\", \"value\", ttl=3600)\nvalue = cache().get(\"key\")\ncache().forget(\"key\")\n\n# Cache-aside pattern (recommended)\nuser = cache().remember(\n    f\"user:{user_id}\",\n    ttl=300,\n    callback=lambda: User.get(db, id=user_id)\n)\n\n# Advanced operations\ncache().increment(\"counter\")\ncache().forever(\"key\", \"value\")\ntagged = cache().tags(\"users\")\n</code></pre> <p>See Redis Usage Guide for comprehensive examples.</p>"},{"location":"index.html#background-tasks-celery","title":"Background Tasks (Celery)","text":"<p>Start Celery Worker: <pre><code># Development (with auto-reload)\ncelery -A app.core.celery_app worker --loglevel=info --reload\n\n# Production\ncelery -A app.core.celery_app worker --loglevel=info\n</code></pre></p> <p>Monitor with Flower: <pre><code>celery -A app.core.celery_app flower\n# Access at http://localhost:5555\n</code></pre></p> <p>Using Tasks: <pre><code>from app.jobs.tasks import send_welcome_email\n\n# Queue a background task\nsend_welcome_email.delay(user.id)\n</code></pre></p>"},{"location":"index.html#task-scheduling","title":"Task Scheduling","text":"<p>The boilerplate provides a Laravel-like task scheduler:</p> <pre><code>from app.core.scheduler import schedule\n\n# Define tasks in app/console/kernel.py\ndef schedule_tasks():\n    # Run every minute\n    schedule().job(cleanup_task).every_minute()\n\n    # Run daily at specific time\n    schedule().job(send_report).daily_at('09:00')\n\n    # Run hourly\n    schedule().job(process_queue).hourly()\n\n    # Run weekly\n    schedule().job(backup).weekly_on('sunday', '02:00')\n</code></pre> <p>Run the scheduler: <pre><code>python artisan schedule:run\n</code></pre></p> <p>List scheduled tasks: <pre><code>python artisan schedule:list\n</code></pre></p> <p>See Task Scheduling Guide for comprehensive examples.</p>"},{"location":"index.html#file-storage-usage","title":"File Storage Usage","text":"<p>The boilerplate provides a Laravel-like Storage facade:</p> <pre><code>from app.core.storage import storage\n\n# Store a file (private - in storage/app)\nstorage().put('path/to/file.txt', 'content')\n\n# Store a public file (accessible via URL)\nstorage('public').put('images/logo.png', image_content)\n# Accessible at: http://localhost:8000/storage/images/logo.png\n\n# Get file content\ncontent = storage().get('path/to/file.txt')\n\n# Check if file exists\nif storage().exists('path/to/file.txt'):\n    print(\"File exists\")\n\n# Delete a file\nstorage().delete('path/to/file.txt')\n\n# Get file URL\nurl = storage().url('path/to/file.txt')\n\n# Use different disk\nstorage('s3').put('file.txt', 'content')\n</code></pre> <p>Public vs Private Storage: - Private (<code>storage/app</code>): Files NOT publicly accessible - use for sensitive data - Public (<code>public/storage</code>): Files publicly accessible via <code>/storage/</code> URL</p> <p>See File Storage Guide for comprehensive examples.</p>"},{"location":"index.html#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest\n\n# With coverage\npytest --cov=app\n</code></pre>"},{"location":"index.html#documentation_1","title":"Documentation","text":"<ul> <li>Security Guide - Security best practices and features</li> <li>Redis Usage Guide - Caching and message queue</li> <li>Task Scheduling Guide - Scheduled task management</li> <li>Broadcasting Guide - Real-time event broadcasting</li> <li>HTTP Client Guide - HTTP client for making requests</li> <li>File Storage Guide - File storage system</li> <li>Environment Variables - Complete configuration guide</li> <li>Development Guide - Development workflow and best practices</li> </ul>"},{"location":"index.html#key-features-explained","title":"Key Features Explained","text":""},{"location":"index.html#database-support","title":"Database Support","text":"<ul> <li>PostgreSQL &amp; MySQL: Switch databases via configuration - same ORM, same code</li> <li>Alembic Migrations: Version-controlled database schema changes</li> <li>Connection Pooling: Optimized database connections</li> </ul>"},{"location":"index.html#redis-caching","title":"Redis Caching","text":"<ul> <li>Laravel-like API: Familiar <code>cache().get()</code>, <code>cache().put()</code>, <code>cache().remember()</code> methods</li> <li>Automatic Serialization: JSON and pickle support</li> <li>Tagged Cache: Group related cache keys</li> <li>TTL Support: Automatic expiration</li> </ul>"},{"location":"index.html#message-queue","title":"Message Queue","text":"<ul> <li>Celery Integration: Background task processing</li> <li>Redis Backend: Fast and reliable message broker</li> <li>Task Monitoring: Flower dashboard included</li> <li>Retry Logic: Built-in task retry support</li> </ul>"},{"location":"index.html#task-scheduling_1","title":"Task Scheduling","text":"<ul> <li>Laravel-like API: Familiar <code>schedule().job()</code> syntax</li> <li>Multiple Frequencies: Every minute, hourly, daily, weekly, monthly, etc.</li> <li>Task Types: Commands, jobs, and shell commands</li> <li>Advanced Features: Timezone support, overlap prevention, conditional execution</li> </ul>"},{"location":"index.html#real-time-broadcasting","title":"Real-time Broadcasting","text":"<ul> <li>Laravel-like API: Familiar <code>broadcast().event()</code> syntax</li> <li>Multiple Drivers: Redis, Pusher, Ably, Log, Null</li> <li>Channel Types: Public, Private, Presence channels</li> <li>WebSocket Support: Real-time bidirectional communication</li> <li>Channel Authorization: Secure access control</li> </ul>"},{"location":"index.html#http-client","title":"HTTP Client","text":"<ul> <li>Laravel-like API: Familiar <code>http().get()</code>, <code>http().post()</code> syntax</li> <li>Fluent Interface: Chain methods for easy configuration</li> <li>Authentication: Basic auth, Bearer tokens</li> <li>Retry Logic: Automatic retries on failure</li> <li>Middleware: Custom request/response processing</li> <li>Concurrent Requests: Pool and batch multiple requests</li> <li>Testing Support: Fake responses and request recording</li> </ul>"},{"location":"index.html#file-storage","title":"File Storage","text":"<ul> <li>Laravel-like API: Familiar <code>storage().put()</code>, <code>storage().get()</code> methods</li> <li>Multiple Drivers: Local, S3, FTP, SFTP support</li> <li>Easy Switching: Change driver via configuration</li> <li>Unified Interface: Same API for all storage backends</li> </ul>"},{"location":"index.html#security","title":"Security","text":"<ul> <li>JWT Authentication: Secure token-based auth with timezone-aware tokens</li> <li>Password Hashing: bcrypt password encryption with strength requirements</li> <li>Authorization: Policy and Gate-based access control</li> <li>CORS Support: Configurable cross-origin requests (validated in production)</li> <li>Rate Limiting: Built-in request throttling with Redis support</li> <li>Security Headers: X-Frame-Options, CSP, HSTS, and more</li> <li>Path Traversal Protection: Secure file operations with validation</li> <li>File Upload Security: Type, size, and content validation</li> <li>Command Injection Prevention: Secure command execution in scheduler</li> <li>Secure Error Handling: No information disclosure in production</li> <li>Request ID Tracking: Unique IDs for all requests</li> </ul>"},{"location":"index.html#contributing","title":"Contributing","text":"<ol> <li>Fork the repository</li> <li>Create your feature branch (<code>git checkout -b feature/amazing-feature</code>)</li> <li>Commit your changes (<code>git commit -m 'Add some amazing feature'</code>)</li> <li>Push to the branch (<code>git push origin feature/amazing-feature</code>)</li> <li>Open a Pull Request</li> </ol>"},{"location":"index.html#license","title":"License","text":"<p>This project is licensed under the MIT License - see the LICENSE file for details. </p>"},{"location":"API.html","title":"API Documentation","text":""},{"location":"API.html#authentication-overview","title":"\ud83d\udd10 Authentication Overview","text":"<p>All API endpoints require authentication EXCEPT: - <code>POST /api/v1/auth/register</code> - Public (for user registration) - <code>POST /api/v1/auth/login</code> - Public (for user login)</p> <p>All other endpoints require the <code>Authorization</code> header: <pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre></p> <p>Protected Endpoint Groups: - \u2705 <code>/api/v1/users/*</code> - All user management endpoints - \u2705 <code>/api/v1/files/*</code> - All file operations - \u2705 <code>/api/v1/broadcasting/*</code> - All broadcasting endpoints (including WebSocket)</p>"},{"location":"API.html#authentication","title":"Authentication","text":""},{"location":"API.html#register-a-new-user","title":"Register a new user","text":"<pre><code>POST /api/v1/auth/register\n</code></pre> <p>Request body: <pre><code>{\n    \"email\": \"user@example.com\",\n    \"password\": \"Test@12345\",\n    \"full_name\": \"string\",\n    \"is_superuser\": false\n}\n</code></pre></p> <p>Note: Password requirements: - Minimum 8 characters - Maximum 512 characters (bcrypt limitation handled automatically) - At least one uppercase letter - At least one lowercase letter - At least one digit</p> <p>Response: <pre><code>{\n    \"id\": 1,\n    \"email\": \"user@example.com\",\n    \"full_name\": \"string\",\n    \"is_active\": true,\n    \"is_superuser\": false,\n    \"created_at\": \"2025-12-18T07:40:47.076834\",\n    \"updated_at\": \"2025-12-18T07:40:47.076838\"\n}\n</code></pre></p> <p>Note: After registration, use the <code>/api/v1/auth/login</code> endpoint to get an authorization token.</p>"},{"location":"API.html#login","title":"Login","text":"<pre><code>POST /api/v1/auth/login\n</code></pre> <p>Request body (form data): <pre><code>username: user@example.com\npassword: Test@12345\n</code></pre></p> <p>Response: <pre><code>{\n    \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"token_type\": \"bearer\",\n    \"user\": {\n        \"id\": 1,\n        \"email\": \"user@example.com\",\n        \"full_name\": \"string\",\n        \"is_active\": true,\n        \"is_superuser\": false,\n        \"created_at\": \"2025-12-18T07:40:47.076834\",\n        \"updated_at\": \"2025-12-18T07:40:47.076838\"\n    }\n}\n</code></pre></p> <p>Note: The login response includes both the authorization token and complete user information for immediate use in your application.</p>"},{"location":"API.html#authentication-required","title":"Authentication Required","text":"<p>\u26a0\ufe0f IMPORTANT: All API endpoints except <code>/api/v1/auth/login</code> and <code>/api/v1/auth/register</code> require authentication.</p> <p>To authenticate, include the <code>Authorization</code> header in your requests:</p> <pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre> <p>Where <code>&lt;access_token&gt;</code> is the token received from the login endpoint.</p> <p>Example: <pre><code>curl -X GET http://localhost:8000/api/v1/users/me \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n</code></pre></p> <p>Unauthenticated requests will return: <pre><code>{\n  \"detail\": \"Not authenticated\"\n}\n</code></pre></p> <p>Protected Endpoints: - \u2705 All <code>/api/v1/users/*</code> endpoints - \u2705 All <code>/api/v1/files/*</code> endpoints - \u2705 All <code>/api/v1/broadcasting/*</code> endpoints (including WebSocket)</p> <p>Public Endpoints: - \u274c <code>/api/v1/auth/login</code> - Public (no authentication) - \u274c <code>/api/v1/auth/register</code> - Public (no authentication)</p>"},{"location":"API.html#users","title":"Users","text":""},{"location":"API.html#get-current-user","title":"Get current user","text":"<pre><code>GET /api/v1/users/me\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre></p> <p>Response: <pre><code>{\n    \"email\": \"user@example.com\",\n    \"full_name\": \"string\",\n    \"is_active\": true,\n    \"is_superuser\": false,\n    \"id\": 1,\n    \"created_at\": \"2024-03-19T00:00:00\",\n    \"updated_at\": \"2024-03-19T00:00:00\"\n}\n</code></pre></p>"},{"location":"API.html#update-current-user","title":"Update current user","text":"<pre><code>PUT /api/v1/users/me\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre></p> <p>Request body: <pre><code>{\n    \"email\": \"newemail@example.com\",\n    \"full_name\": \"New Name\",\n    \"password\": \"newpassword\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n    \"email\": \"newemail@example.com\",\n    \"full_name\": \"New Name\",\n    \"is_active\": true,\n    \"is_superuser\": false,\n    \"id\": 1,\n    \"created_at\": \"2024-03-19T00:00:00\",\n    \"updated_at\": \"2024-03-19T00:00:00\"\n}\n</code></pre></p>"},{"location":"API.html#get-all-users","title":"Get all users","text":"<pre><code>GET /api/v1/users?skip=0&amp;limit=100\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre></p> <p>Response: <pre><code>[\n    {\n        \"email\": \"user1@example.com\",\n        \"full_name\": \"User One\",\n        \"is_active\": true,\n        \"is_superuser\": false,\n        \"id\": 1,\n        \"created_at\": \"2024-03-19T00:00:00\",\n        \"updated_at\": \"2024-03-19T00:00:00\"\n    },\n    {\n        \"email\": \"user2@example.com\",\n        \"full_name\": \"User Two\",\n        \"is_active\": true,\n        \"is_superuser\": false,\n        \"id\": 2,\n        \"created_at\": \"2024-03-19T00:00:00\",\n        \"updated_at\": \"2024-03-19T00:00:00\"\n    }\n]\n</code></pre></p>"},{"location":"API.html#error-responses","title":"Error Responses","text":""},{"location":"API.html#400-bad-request","title":"400 Bad Request","text":"<pre><code>{\n    \"detail\": \"The user with this email already exists in the system.\"\n}\n</code></pre>"},{"location":"API.html#401-unauthorized","title":"401 Unauthorized","text":"<p>Missing or Invalid Token: <pre><code>{\n    \"detail\": \"Not authenticated\"\n}\n</code></pre></p> <p>Invalid Credentials (Login): <pre><code>{\n    \"detail\": \"Incorrect email or password\",\n    \"headers\": {\n        \"WWW-Authenticate\": \"Bearer\"\n    }\n}\n</code></pre></p> <p>Invalid Token: <pre><code>{\n    \"detail\": \"Could not validate credentials\"\n}\n</code></pre></p>"},{"location":"API.html#403-forbidden","title":"403 Forbidden","text":"<pre><code>{\n    \"detail\": \"Could not validate credentials\"\n}\n</code></pre>"},{"location":"API.html#404-not-found","title":"404 Not Found","text":"<pre><code>{\n    \"detail\": \"User not found\"\n}\n</code></pre>"},{"location":"ARCHITECTURE.html","title":"Architecture","text":"<p>Project structure and design patterns used in the FastAPI Boilerplate.</p>"},{"location":"ARCHITECTURE.html#project-structure","title":"Project Structure","text":""},{"location":"ARCHITECTURE.html#directory-layout","title":"Directory Layout","text":"<pre><code>fastapi_boilerplate/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u2514\u2500\u2500 v1/\n\u2502   \u2502       \u251c\u2500\u2500 controllers/\n\u2502   \u2502       \u2514\u2500\u2500 api.py\n\u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u251c\u2500\u2500 core/\n\u2502   \u2502   \u251c\u2500\u2500 config.py\n\u2502   \u2502   \u251c\u2500\u2500 database.py\n\u2502   \u2502   \u2514\u2500\u2500 security.py\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u251c\u2500\u2500 schemas/\n\u2502   \u2514\u2500\u2500 services/\n\u251c\u2500\u2500 alembic/\n\u2502   \u2514\u2500\u2500 versions/\n\u251c\u2500\u2500 docs/\n\u251c\u2500\u2500 tests/\n\u2514\u2500\u2500 .env\n</code></pre>"},{"location":"ARCHITECTURE.html#design-patterns","title":"Design Patterns","text":""},{"location":"ARCHITECTURE.html#repository-pattern","title":"Repository Pattern","text":"<p>The repository pattern is used to abstract the data layer, making it easier to swap out implementations or test the application.</p> <pre><code>class UserRepository:\n    def __init__(self, db: Session):\n        self.db = db\n\n    def get_by_id(self, user_id: int) -&gt; Optional[User]:\n        return self.db.query(User).filter(User.id == user_id).first()\n\n    def get_by_email(self, email: str) -&gt; Optional[User]:\n        return self.db.query(User).filter(User.email == email).first()\n</code></pre>"},{"location":"ARCHITECTURE.html#service-layer","title":"Service Layer","text":"<p>The service layer contains business logic and orchestrates operations between repositories and other services.</p> <pre><code>class UserService:\n    def __init__(self, user_repository: UserRepository):\n        self.user_repository = user_repository\n\n    async def create_user(self, user_data: UserCreate) -&gt; User:\n        if await self.user_repository.get_by_email(user_data.email):\n            raise HTTPException(\n                status_code=400,\n                detail=\"Email already registered\"\n            )\n        return await self.user_repository.create(user_data)\n</code></pre>"},{"location":"ARCHITECTURE.html#dependency-injection","title":"Dependency Injection","text":""},{"location":"ARCHITECTURE.html#fastapi-dependencies","title":"FastAPI Dependencies","text":"<p>FastAPI's dependency injection system is used to manage dependencies and provide them to route handlers.</p> <pre><code>async def get_db() -&gt; Session:\n    db = SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n\n@router.post(\"/users/\", response_model=UserResponse)\nasync def create_user(\n    user: UserCreate,\n    db: Session = Depends(get_db),\n    user_service: UserService = Depends()\n):\n    return await user_service.create_user(user)\n</code></pre>"},{"location":"ARCHITECTURE.html#error-handling","title":"Error Handling","text":""},{"location":"ARCHITECTURE.html#custom-exception-handler","title":"Custom Exception Handler","text":"<pre><code>from fastapi import Request, status\nfrom fastapi.responses import JSONResponse\nfrom app.core.exceptions import CustomException\n\n@app.exception_handler(CustomException)\nasync def custom_exception_handler(request: Request, exc: CustomException):\n    return JSONResponse(\n        status_code=exc.status_code,\n        content={\n            \"detail\": exc.detail,\n            \"error_code\": exc.error_code\n        }\n    )\n</code></pre>"},{"location":"AUTHENTICATION.html","title":"Authentication","text":"<p>JWT-based authentication system with role-based access control.</p>"},{"location":"AUTHENTICATION.html#jwt-authentication","title":"JWT Authentication","text":""},{"location":"AUTHENTICATION.html#token-generation","title":"Token Generation","text":"<pre><code>from datetime import datetime, timedelta\nfrom typing import Optional\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\ndef create_access_token(data: dict, expires_delta: Optional[timedelta] = None):\n    to_encode = data.copy()\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=15)\n    to_encode.update({\"exp\": expire})\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n</code></pre>"},{"location":"AUTHENTICATION.html#login-endpoint","title":"Login Endpoint","text":""},{"location":"AUTHENTICATION.html#token-generation_1","title":"Token Generation","text":"<pre><code>@router.post(\"/token\")\nasync def login_for_access_token(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: Session = Depends(get_db)\n):\n    user = authenticate_user(db, form_data.username, form_data.password)\n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    access_token_expires = timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    access_token = create_access_token(\n        data={\"sub\": user.email}, expires_delta=access_token_expires\n    )\n    return {\"access_token\": access_token, \"token_type\": \"bearer\"}\n</code></pre>"},{"location":"AUTHENTICATION.html#protected-routes","title":"Protected Routes","text":""},{"location":"AUTHENTICATION.html#route-protection","title":"Route Protection","text":"<pre><code>async def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: Session = Depends(get_db)\n) -&gt; User:\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        email: str = payload.get(\"sub\")\n        if email is None:\n            raise credentials_exception\n    except JWTError:\n        raise credentials_exception\n    user = db.query(User).filter(User.email == email).first()\n    if user is None:\n        raise credentials_exception\n    return user\n</code></pre>"},{"location":"AUTHENTICATION.html#password-hashing","title":"Password Hashing","text":""},{"location":"AUTHENTICATION.html#password-verification","title":"Password Verification","text":"<pre><code>def verify_password(plain_password: str, hashed_password: str) -&gt; bool:\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -&gt; str:\n    return pwd_context.hash(password)\n</code></pre>"},{"location":"BROADCASTING.html","title":"Broadcasting Guide","text":"<p>This guide explains how to use the Laravel-like broadcasting system for real-time events in this FastAPI boilerplate.</p>"},{"location":"BROADCASTING.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Server Side Installation</li> <li>Configuration</li> <li>Defining Broadcast Events</li> <li>Authorizing Channels</li> <li>Broadcasting Events</li> <li>Client Side Installation</li> <li>Receiving Broadcasts</li> <li>Examples</li> </ol>"},{"location":"BROADCASTING.html#introduction","title":"Introduction","text":"<p>The broadcasting system allows you to broadcast server-side events to connected clients in real-time using WebSockets. It's similar to Laravel's broadcasting system and supports multiple drivers.</p>"},{"location":"BROADCASTING.html#key-features","title":"Key Features","text":"<ul> <li>Real-time Broadcasting: WebSocket-based real-time communication</li> <li>Multiple Drivers: Redis, Pusher, Ably, Log, Null</li> <li>Channel Types: Public, Private, Presence channels</li> <li>Channel Authorization: Secure access control for private/presence channels</li> <li>Event Broadcasting: Broadcast model events and custom events</li> <li>Laravel-like API: Familiar broadcasting syntax</li> </ul>"},{"location":"BROADCASTING.html#server-side-installation","title":"Server Side Installation","text":""},{"location":"BROADCASTING.html#dependencies","title":"Dependencies","text":"<p>The required packages are already included in <code>requirements.txt</code>:</p> <ul> <li><code>redis[hiredis]</code> - For Redis pub/sub broadcasting</li> <li><code>python-socketio</code> - WebSocket support</li> <li><code>websockets</code> - WebSocket protocol support</li> </ul>"},{"location":"BROADCASTING.html#configuration","title":"Configuration","text":"<p>Configure broadcasting in your <code>.env</code> file:</p> <pre><code># Broadcasting Configuration\nBROADCAST_DRIVER=redis  # Options: redis, pusher, ably, log, null\nBROADCAST_CONNECTION=default\n</code></pre>"},{"location":"BROADCASTING.html#configuration_1","title":"Configuration","text":""},{"location":"BROADCASTING.html#broadcasting-drivers","title":"Broadcasting Drivers","text":"<p>Redis (Default): <pre><code>BROADCAST_DRIVER=redis\n# Uses Redis pub/sub for broadcasting\n</code></pre></p> <p>Pusher Channels: <pre><code>BROADCAST_DRIVER=pusher\nPUSHER_APP_ID=your-app-id\nPUSHER_APP_KEY=your-app-key\nPUSHER_APP_SECRET=your-app-secret\nPUSHER_APP_CLUSTER=mt1\n</code></pre></p> <p>Ably: <pre><code>BROADCAST_DRIVER=ably\nABLY_KEY=your-ably-key\n</code></pre></p> <p>Log (Development): <pre><code>BROADCAST_DRIVER=log\n# Logs broadcasts instead of sending them\n</code></pre></p> <p>Null (Testing): <pre><code>BROADCAST_DRIVER=null\n# No-op driver for testing\n</code></pre></p>"},{"location":"BROADCASTING.html#defining-broadcast-events","title":"Defining Broadcast Events","text":""},{"location":"BROADCASTING.html#creating-broadcast-events","title":"Creating Broadcast Events","text":"<p>Create event classes that implement <code>ShouldBroadcast</code>:</p> <pre><code>from app.events.base import ShouldBroadcast\nfrom typing import Dict, Any\n\nclass OrderShipped(ShouldBroadcast):\n    \"\"\"Event broadcast when an order is shipped.\"\"\"\n\n    def __init__(self, order):\n        self.order = order\n\n    def broadcast_on(self) -&gt; str:\n        \"\"\"Channel to broadcast on.\"\"\"\n        return f\"private-order.{self.order.id}\"\n\n    def broadcast_as(self) -&gt; str:\n        \"\"\"Event name.\"\"\"\n        return \"OrderShipped\"\n\n    def broadcast_with(self) -&gt; Dict[str, Any]:\n        \"\"\"Data to broadcast.\"\"\"\n        return {\n            \"order_id\": self.order.id,\n            \"status\": \"shipped\",\n            \"tracking_number\": self.order.tracking_number,\n        }\n</code></pre>"},{"location":"BROADCASTING.html#broadcast-name","title":"Broadcast Name","text":"<p>By default, the event name is the class name. Override <code>broadcast_as()</code> to customize:</p> <pre><code>def broadcast_as(self) -&gt; str:\n    return \"order.shipped\"  # Custom event name\n</code></pre>"},{"location":"BROADCASTING.html#broadcast-data","title":"Broadcast Data","text":"<p>Override <code>broadcast_with()</code> to customize the data:</p> <pre><code>def broadcast_with(self) -&gt; Dict[str, Any]:\n    return {\n        \"order\": {\n            \"id\": self.order.id,\n            \"total\": str(self.order.total),\n        }\n    }\n</code></pre>"},{"location":"BROADCASTING.html#broadcast-queue","title":"Broadcast Queue","text":"<p>Queue broadcasts for async processing:</p> <pre><code>def broadcast_queue(self) -&gt; Optional[str]:\n    return \"broadcasts\"  # Queue name\n</code></pre>"},{"location":"BROADCASTING.html#broadcast-conditions","title":"Broadcast Conditions","text":"<p>Broadcast only when conditions are met:</p> <pre><code>class OrderShipped(ShouldBroadcast):\n    def should_broadcast(self) -&gt; bool:\n        \"\"\"Only broadcast if order is actually shipped.\"\"\"\n        return self.order.status == \"shipped\"\n</code></pre>"},{"location":"BROADCASTING.html#authorizing-channels","title":"Authorizing Channels","text":""},{"location":"BROADCASTING.html#defining-authorization-callbacks","title":"Defining Authorization Callbacks","text":"<p>Define channel authorization in <code>app/routes/channels.py</code>:</p> <pre><code>from app.core.channels import channel\nfrom app.models.user import User\n\ndef register_channels():\n    \"\"\"Register channel authorization callbacks.\"\"\"\n\n    # Private user channel - only user can access their own channel\n    channel().channel('private-user.{id}', lambda user, id: user.id == id)\n\n    # Private order channel - user can access if they own the order\n    channel().channel('private-order.{id}', lambda user, id: user_owns_order(user, id))\n\n    # Presence channel - all authenticated users can join\n    channel().channel('presence-users', lambda user: True)\n</code></pre>"},{"location":"BROADCASTING.html#channel-classes","title":"Channel Classes","text":"<p>For complex authorization logic, use channel classes:</p> <pre><code>from app.core.channels import channel\n\nclass OrderChannel:\n    \"\"\"Channel authorization for orders.\"\"\"\n\n    @staticmethod\n    def join(user: User, order_id: int) -&gt; bool:\n        \"\"\"User can join if they own the order or are admin.\"\"\"\n        from app.models.order import Order\n        order = Order.get(db, id=order_id)\n        return order and (order.user_id == user.id or user.is_superuser)\n\ndef register_channels():\n    channel().channel('private-order.{id}', OrderChannel.join)\n</code></pre>"},{"location":"BROADCASTING.html#broadcasting-events","title":"Broadcasting Events","text":""},{"location":"BROADCASTING.html#broadcasting-from-code","title":"Broadcasting from Code","text":"<pre><code>from app.core.broadcasting import broadcast\nfrom app.events.user_events import UserCreated\n\n# Broadcast an event\nuser = User.create(db, obj_in=user_data)\nevent = UserCreated(user)\nbroadcast().event(event)\n</code></pre>"},{"location":"BROADCASTING.html#broadcasting-to-specific-channels","title":"Broadcasting to Specific Channels","text":"<pre><code># Broadcast to public channel\nbroadcast().channel('orders').broadcast('OrderCreated', {'order_id': 123})\n\n# Broadcast to private channel\nbroadcast().private('user.123').broadcast('UserUpdated', {'user_id': 123})\n\n# Broadcast to presence channel\nbroadcast().presence('chat.room1').broadcast('MessageSent', {'message': 'Hello'})\n</code></pre>"},{"location":"BROADCASTING.html#broadcasting-to-others-only","title":"Broadcasting to Others Only","text":"<p>Exclude the current user from receiving the broadcast:</p> <pre><code># In your endpoint\nevent = UserUpdated(current_user)\nbroadcast().to_others().event(event)\n</code></pre>"},{"location":"BROADCASTING.html#customizing-the-connection","title":"Customizing the Connection","text":"<p>Use a different broadcasting driver:</p> <pre><code>broadcast().driver('pusher').channel('orders').broadcast('OrderCreated', data)\n</code></pre>"},{"location":"BROADCASTING.html#client-side-installation","title":"Client Side Installation","text":""},{"location":"BROADCASTING.html#javascript-client","title":"JavaScript Client","text":"<p>Install a WebSocket client library:</p> <pre><code>npm install laravel-echo pusher-js\n# or\nnpm install socket.io-client\n</code></pre>"},{"location":"BROADCASTING.html#connecting-to-websocket","title":"Connecting to WebSocket","text":"<pre><code>// Using native WebSocket\nconst socket = new WebSocket('ws://localhost:8000/api/v1/broadcasting/ws?token=YOUR_TOKEN');\n\nsocket.onopen = () =&gt; {\n    console.log('Connected');\n\n    // Subscribe to channel\n    socket.send(JSON.stringify({\n        event: 'subscribe',\n        channel: 'users'\n    }));\n};\n\nsocket.onmessage = (event) =&gt; {\n    const data = JSON.parse(event.data);\n    console.log('Received:', data);\n\n    if (data.event === 'UserCreated') {\n        console.log('New user:', data.data);\n    }\n};\n</code></pre>"},{"location":"BROADCASTING.html#using-laravel-echo-compatible","title":"Using Laravel Echo (Compatible)","text":"<pre><code>import Echo from 'laravel-echo';\nimport Pusher from 'pusher-js';\n\nwindow.Pusher = Pusher;\n\nwindow.Echo = new Echo({\n    broadcaster: 'pusher',\n    key: 'your-app-key',\n    cluster: 'mt1',\n    encrypted: true,\n    wsHost: 'localhost',\n    wsPort: 8000,\n    wssPort: 8000,\n    authEndpoint: 'http://localhost:8000/api/v1/broadcasting/auth',\n    auth: {\n        headers: {\n            Authorization: 'Bearer ' + token\n        }\n    }\n});\n</code></pre>"},{"location":"BROADCASTING.html#receiving-broadcasts","title":"Receiving Broadcasts","text":""},{"location":"BROADCASTING.html#listening-for-events","title":"Listening for Events","text":"<pre><code>// Listen to public channel\nEcho.channel('users')\n    .listen('UserCreated', (e) =&gt; {\n        console.log('User created:', e);\n    });\n\n// Listen to private channel\nEcho.private('user.123')\n    .listen('UserUpdated', (e) =&gt; {\n        console.log('User updated:', e);\n    });\n\n// Listen to presence channel\nEcho.join('presence-users')\n    .here((users) =&gt; {\n        console.log('Users here:', users);\n    })\n    .joining((user) =&gt; {\n        console.log('User joined:', user);\n    })\n    .leaving((user) =&gt; {\n        console.log('User left:', user);\n    });\n</code></pre>"},{"location":"BROADCASTING.html#leaving-a-channel","title":"Leaving a Channel","text":"<pre><code>// Leave a channel\nEcho.leave('users');\n\n// Leave private channel\nEcho.leaveChannel('private-user.123');\n</code></pre>"},{"location":"BROADCASTING.html#namespaces","title":"Namespaces","text":"<p>Use namespaces to organize events:</p> <pre><code>class OrderShipped(ShouldBroadcast):\n    def broadcast_as(self) -&gt; str:\n        return \"App\\\\Events\\\\OrderShipped\"  # Namespaced event name\n</code></pre>"},{"location":"BROADCASTING.html#examples","title":"Examples","text":""},{"location":"BROADCASTING.html#example-1-broadcasting-user-events","title":"Example 1: Broadcasting User Events","text":"<pre><code>from app.events.user_events import UserCreated, UserUpdated\nfrom app.core.broadcasting import broadcast\n\n# When user is created\nuser = User.create(db, obj_in=user_data)\nbroadcast().event(UserCreated(user))\n\n# When user is updated\nuser = User.update(db, db_obj=user, obj_in=user_data)\nbroadcast().event(UserUpdated(user))\n</code></pre>"},{"location":"BROADCASTING.html#example-2-broadcasting-order-events","title":"Example 2: Broadcasting Order Events","text":"<pre><code>from app.events.base import ShouldBroadcast\n\nclass OrderShipped(ShouldBroadcast):\n    def __init__(self, order):\n        self.order = order\n\n    def broadcast_on(self) -&gt; str:\n        return f\"private-order.{self.order.id}\"\n\n    def broadcast_as(self) -&gt; str:\n        return \"OrderShipped\"\n\n    def broadcast_with(self) -&gt; Dict[str, Any]:\n        return {\n            \"order_id\": self.order.id,\n            \"status\": \"shipped\",\n        }\n\n# Broadcast when order is shipped\norder.status = \"shipped\"\ndb.commit()\nbroadcast().event(OrderShipped(order))\n</code></pre>"},{"location":"BROADCASTING.html#example-3-presence-channel","title":"Example 3: Presence Channel","text":"<pre><code>class UserJoined(ShouldBroadcast):\n    def __init__(self, user):\n        self.user = user\n\n    def broadcast_on(self) -&gt; str:\n        return \"presence-chat.room1\"\n\n    def broadcast_as(self) -&gt; str:\n        return \"UserJoined\"\n\n    def broadcast_with(self) -&gt; Dict[str, Any]:\n        return {\n            \"user\": {\n                \"id\": self.user.id,\n                \"name\": self.user.full_name,\n            }\n        }\n</code></pre>"},{"location":"BROADCASTING.html#example-4-model-broadcasting","title":"Example 4: Model Broadcasting","text":"<p>Automatically broadcast when models are created/updated/deleted:</p> <pre><code>from app.events.base import ShouldBroadcast\nfrom app.models.user import User\n\nclass User(ShouldBroadcast):\n    # Model implementation...\n\n    def broadcast_on(self) -&gt; str:\n        return \"users\"\n\n    def broadcast_as(self) -&gt; str:\n        return \"UserCreated\"  # or UserUpdated, UserDeleted\n\n    def broadcast_with(self) -&gt; Dict[str, Any]:\n        return {\n            \"id\": self.id,\n            \"email\": self.email,\n        }\n</code></pre>"},{"location":"BROADCASTING.html#best-practices","title":"Best Practices","text":"<ol> <li>Use Private Channels: For user-specific data, use private channels</li> <li>Authorize Properly: Always implement proper channel authorization</li> <li>Queue Heavy Broadcasts: Use queues for broadcasts that might be slow</li> <li>Handle Errors: Always handle WebSocket connection errors</li> <li>Reconnect Logic: Implement reconnection logic on client side</li> <li>Rate Limiting: Consider rate limiting for client events</li> </ol>"},{"location":"BROADCASTING.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"BROADCASTING.html#websocket-connection-failed","title":"WebSocket Connection Failed","text":"<ol> <li>Check if WebSocket endpoint is accessible</li> <li>Verify authentication token</li> <li>Check CORS settings</li> <li>Verify Redis is running (for Redis driver)</li> </ol>"},{"location":"BROADCASTING.html#channel-authorization-failed","title":"Channel Authorization Failed","text":"<ol> <li>Check channel authorization callback</li> <li>Verify user authentication</li> <li>Check channel name format</li> </ol>"},{"location":"BROADCASTING.html#events-not-received","title":"Events Not Received","text":"<ol> <li>Verify event is being broadcast</li> <li>Check if client is subscribed to correct channel</li> <li>Verify broadcasting driver is configured correctly</li> <li>Check Redis pub/sub connection</li> </ol>"},{"location":"BROADCASTING.html#additional-resources","title":"Additional Resources","text":"<ul> <li>WebSocket Protocol</li> <li>Redis Pub/Sub</li> <li>Laravel Broadcasting</li> </ul>"},{"location":"CLI.html","title":"CLI Commands","text":"<p>Command-line interface tools for the FastAPI Boilerplate.</p>"},{"location":"CLI.html#installation","title":"Installation","text":""},{"location":"CLI.html#installing-cli-tools","title":"Installing CLI Tools","text":"<pre><code># Install the package\npip install -e .\n\n# Verify installation\npython3 artisan --version\n</code></pre>"},{"location":"CLI.html#database-commands","title":"Database Commands","text":""},{"location":"CLI.html#migration-commands","title":"Migration Commands","text":"<pre><code># Create a new migration\npython3 artisan make:migration \"create users table\"\n\n# Run migrations\npython3 artisan migrate\n\n# Rollback last migration\npython3 artisan migrate:rollback\n\n# Show migration status\npython3 artisan migrate:status\n\n# Reset database\npython3 artisan migrate:reset\n\n# Refresh database\npython3 artisan migrate:refresh\n</code></pre>"},{"location":"CLI.html#seed-commands","title":"Seed Commands","text":"<pre><code># Create a new seeder\npython3 artisan make:seeder UsersSeeder\n\n# Run seeders\npython3 artisan db:seed\n\n# Run specific seeder\npython3 artisan db:seed --seeder=UsersSeeder\n\n# Refresh and seed\npython3 artisan db:refresh\n</code></pre>"},{"location":"CLI.html#model-commands","title":"Model Commands","text":""},{"location":"CLI.html#model-generation","title":"Model Generation","text":"<pre><code># Create a new model\npython3 artisan make:model User\n\n# Create model with migration\npython3 artisan make:model User --migration\n\n# Create model with controller\npython3 artisan make:model User --controller\n\n# Create model with all components\npython3 artisan make:model User --all\n</code></pre>"},{"location":"CLI.html#controller-commands","title":"Controller Commands","text":""},{"location":"CLI.html#controller-generation","title":"Controller Generation","text":"<pre><code># Create a new controller\npython3 artisan make:controller UserController\n\n# Create resource controller\npython3 artisan make:controller UserController --resource\n\n# Create API controller\npython3 artisan make:controller UserController --api\n</code></pre>"},{"location":"CLI.html#service-commands","title":"Service Commands","text":""},{"location":"CLI.html#service-generation","title":"Service Generation","text":"<pre><code># Create a new service\npython3 artisan make:service UserService\n\n# Create service with interface\npython3 artisan make:service UserService --interface\n</code></pre>"},{"location":"CLI.html#development-commands","title":"Development Commands","text":""},{"location":"CLI.html#development-tools","title":"Development Tools","text":"<pre><code># Run development server\npython3 artisan serve\n\n# Run development server with reload\npython3 artisan serve --reload\n\n# Run tests\npython3 artisan test\n\n# Run specific test\npython3 artisan test tests/test_users.py\n\n# Generate API documentation\npython3 artisan docs:generate\n\n# Clear application cache\npython3 artisan cache:clear\n\n# View application logs\npython3 artisan logs:view\n</code></pre>"},{"location":"CLI.html#custom-commands","title":"Custom Commands","text":""},{"location":"CLI.html#creating-custom-commands","title":"Creating Custom Commands","text":"<pre><code>from artisan import Command\n\nclass CustomCommand(Command):\n    name = \"custom:command\"\n    description = \"Description of your custom command\"\n\n    def handle(self):\n        # Command logic here\n        self.info(\"Running custom command...\")\n        # Add your command implementation\n        self.success(\"Command completed successfully\")\n\n# Register the command\nCommand.register(CustomCommand)\n</code></pre>"},{"location":"CONTRIBUTING.html","title":"Contributing to FastAPI Boilerplate","text":"<p>First off, thank you for considering contributing! It's people like you who make the open-source community such an amazing place.</p>"},{"location":"CONTRIBUTING.html#how-can-i-contribute","title":"\ud83c\udf1f How Can I Contribute?","text":""},{"location":"CONTRIBUTING.html#reporting-bugs","title":"\ud83d\udc1b Reporting Bugs","text":"<p>Before reporting, please check existing GitHub Issues. If not found: - Use the Bug Report Template. - Provide minimal reproduction steps.</p>"},{"location":"CONTRIBUTING.html#suggesting-enhancements","title":"\ud83d\udca1 Suggesting Enhancements","text":"<ul> <li>Use the Feature Request Template.</li> <li>Discuss the idea first in GitHub Discussions.</li> </ul>"},{"location":"CONTRIBUTING.html#pull-requests","title":"\ud83d\udee0\ufe0f Pull Requests","text":"<ol> <li>Fork the repository.</li> <li>Create a branch (<code>git checkout -b feature/amazing-feature</code>).</li> <li>Implement your changes.</li> <li>Run quality checks (see below).</li> <li>Open a Pull Request using our template.</li> </ol>"},{"location":"CONTRIBUTING.html#development-setup","title":"\ud83d\udcbb Development Setup","text":"<p>We use uv for dependency management.</p> <pre><code># 1. Clone &amp; Sync\ngit clone https://github.com/gargashwani/fastapi_boilerplate.git\ncd fastapi_boilerplate\nuv sync\n\n# 2. Setup Environment\nuv run python artisan install\n\n# 3. Quality Checks (Mandatory)\nuv run ruff check .\nuv run mypy .\nuv run pytest\n</code></pre>"},{"location":"CONTRIBUTING.html#coding-standards","title":"\u2705 Coding Standards","text":"<ul> <li>Ruff: Our primary linter and formatter.</li> <li>Type Safety: Mypy is enforced for all modules in <code>app/</code>.</li> <li>Tests: Every new feature or fix should include a corresponding test.</li> <li>Commits: Follow Conventional Commits.</li> </ul>"},{"location":"CONTRIBUTING.html#good-first-issues","title":"\ud83c\udfaf Good First Issues","text":"<p>Look for the <code>good first issue</code> label in our issues list. These are well-defined tasks perfect for newcomers.</p>"},{"location":"CONTRIBUTING.html#license","title":"\u2696\ufe0f License","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"CONTROLLERS.html","title":"Controllers","text":"<p>API controllers and route handlers for the FastAPI Boilerplate.</p>"},{"location":"CONTROLLERS.html#base-controller","title":"Base Controller","text":""},{"location":"CONTROLLERS.html#controller-structure","title":"Controller Structure","text":"<pre><code>from fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.orm import Session\nfrom typing import List, Optional\n\nfrom app.core.database import get_db\nfrom app.schemas import BaseSchema\nfrom app.services import BaseService\n\nclass BaseController:\n    def __init__(self, service: BaseService):\n        self.service = service\n        self.router = APIRouter()\n        self._register_routes()\n\n    def _register_routes(self):\n        raise NotImplementedError(\"Subclasses must implement _register_routes\")\n</code></pre>"},{"location":"CONTROLLERS.html#user-controller","title":"User Controller","text":""},{"location":"CONTROLLERS.html#user-routes","title":"User Routes","text":"<pre><code>from fastapi import APIRouter, Depends, HTTPException, status\nfrom sqlalchemy.orm import Session\nfrom typing import List\n\nfrom app.core.database import get_db\nfrom app.core.auth import get_current_user\nfrom app.schemas.user import UserCreate, UserUpdate, UserResponse\nfrom app.services.user import UserService\nfrom app.models.user import User\n\nclass UserController(BaseController):\n    def __init__(self, service: UserService):\n        super().__init__(service)\n\n    def _register_routes(self):\n        self.router.post(\"/\", response_model=UserResponse)(self.create)\n        self.router.get(\"/me\", response_model=UserResponse)(self.get_me)\n        self.router.get(\"/{user_id}\", response_model=UserResponse)(self.get)\n        self.router.put(\"/{user_id}\", response_model=UserResponse)(self.update)\n        self.router.delete(\"/{user_id}\")(self.delete)\n\n    async def create(self, user: UserCreate, db: Session = Depends(get_db)):\n        return await self.service.create(db, user)\n\n    async def get_me(self, current_user: User = Depends(get_current_user)):\n        return current_user\n\n    async def get(self, user_id: int, db: Session = Depends(get_db)):\n        return await self.service.get(db, user_id)\n\n    async def update(\n        self,\n        user_id: int,\n        user: UserUpdate,\n        db: Session = Depends(get_db),\n        current_user: User = Depends(get_current_user)\n    ):\n        if current_user.id != user_id and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Not enough permissions\"\n            )\n        return await self.service.update(db, user_id, user)\n\n    async def delete(\n        self,\n        user_id: int,\n        db: Session = Depends(get_db),\n        current_user: User = Depends(get_current_user)\n    ):\n        if current_user.id != user_id and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Not enough permissions\"\n            )\n        return await self.service.delete(db, user_id)\n</code></pre>"},{"location":"CONTROLLERS.html#post-controller","title":"Post Controller","text":""},{"location":"CONTROLLERS.html#post-routes","title":"Post Routes","text":"<pre><code>from fastapi import APIRouter, Depends, HTTPException, status\nfrom sqlalchemy.orm import Session\nfrom typing import List\n\nfrom app.core.database import get_db\nfrom app.core.auth import get_current_user\nfrom app.schemas.post import PostCreate, PostUpdate, PostResponse\nfrom app.services.post import PostService\nfrom app.models.user import User\n\nclass PostController(BaseController):\n    def __init__(self, service: PostService):\n        super().__init__(service)\n\n    def _register_routes(self):\n        self.router.post(\"/\", response_model=PostResponse)(self.create)\n        self.router.get(\"/\", response_model=List[PostResponse])(self.list)\n        self.router.get(\"/{post_id}\", response_model=PostResponse)(self.get)\n        self.router.put(\"/{post_id}\", response_model=PostResponse)(self.update)\n        self.router.delete(\"/{post_id}\")(self.delete)\n\n    async def create(\n        self,\n        post: PostCreate,\n        db: Session = Depends(get_db),\n        current_user: User = Depends(get_current_user)\n    ):\n        return await self.service.create(db, post, current_user.id)\n\n    async def list(\n        self,\n        skip: int = 0,\n        limit: int = 100,\n        db: Session = Depends(get_db)\n    ):\n        return await self.service.list(db, skip, limit)\n\n    async def get(self, post_id: int, db: Session = Depends(get_db)):\n        return await self.service.get(db, post_id)\n\n    async def update(\n        self,\n        post_id: int,\n        post: PostUpdate,\n        db: Session = Depends(get_db),\n        current_user: User = Depends(get_current_user)\n    ):\n        return await self.service.update(db, post_id, post, current_user.id)\n\n    async def delete(\n        self,\n        post_id: int,\n        db: Session = Depends(get_db),\n        current_user: User = Depends(get_current_user)\n    ):\n        return await self.service.delete(db, post_id, current_user.id)\n</code></pre>"},{"location":"CONTROLLERS.html#error-handling","title":"Error Handling","text":""},{"location":"CONTROLLERS.html#custom-exceptions","title":"Custom Exceptions","text":"<pre><code>from fastapi import HTTPException, status\n\nclass NotFoundException(HTTPException):\n    def __init__(self, detail: str = \"Resource not found\"):\n        super().__init__(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=detail\n        )\n\nclass UnauthorizedException(HTTPException):\n    def __init__(self, detail: str = \"Not authenticated\"):\n        super().__init__(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=detail\n        )\n\nclass ForbiddenException(HTTPException):\n    def __init__(self, detail: str = \"Not enough permissions\"):\n        super().__init__(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=detail\n        )\n</code></pre>"},{"location":"DATABASE.html","title":"Database","text":"<p>Database configuration and models for the FastAPI Boilerplate.</p>"},{"location":"DATABASE.html#database-configuration","title":"Database Configuration","text":""},{"location":"DATABASE.html#environment-variables","title":"Environment Variables","text":"<pre><code># Database Configuration\nDATABASE_URL=mysql://user:password@localhost/db_name\n# or for PostgreSQL\n# DATABASE_URL=postgresql://user:password@localhost/db_name\n\n# Database Pool Settings\nDB_POOL_SIZE=5\nDB_MAX_OVERFLOW=10\nDB_POOL_TIMEOUT=30\nDB_POOL_RECYCLE=1800\n</code></pre>"},{"location":"DATABASE.html#database-connection","title":"Database Connection","text":"<pre><code>from sqlalchemy import create_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\nengine = create_engine(\n    settings.DATABASE_URL,\n    pool_size=settings.DB_POOL_SIZE,\n    max_overflow=settings.DB_MAX_OVERFLOW,\n    pool_timeout=settings.DB_POOL_TIMEOUT,\n    pool_recycle=settings.DB_POOL_RECYCLE\n)\n\nSessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)\nBase = declarative_base()\n</code></pre>"},{"location":"DATABASE.html#database-migrations","title":"Database Migrations","text":""},{"location":"DATABASE.html#creating-migrations","title":"Creating Migrations","text":"<pre><code># Create new migration\npython3 artisan make-migration \"migration message\"\n\n# Run migrations\npython3 artisan migrate\n\n# Rollback last migration\npython3 artisan rollback\n\n# Show migration history\npython3 artisan migrate:status\n</code></pre>"},{"location":"DATABASE.html#database-models","title":"Database Models","text":""},{"location":"DATABASE.html#base-model","title":"Base Model","text":"<pre><code>from sqlalchemy import Column, Integer, DateTime\nfrom sqlalchemy.sql import func\nfrom app.core.database import Base\n\nclass BaseModel(Base):\n    __abstract__ = True\n\n    id = Column(Integer, primary_key=True, index=True)\n    created_at = Column(DateTime, default=func.now())\n    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())\n</code></pre>"},{"location":"DATABASE.html#user-model","title":"User Model","text":"<pre><code>from sqlalchemy import Column, String, Boolean\nfrom app.core.database import BaseModel\n\nclass User(BaseModel):\n    __tablename__ = \"users\"\n\n    email = Column(String, unique=True, index=True)\n    hashed_password = Column(String)\n    is_active = Column(Boolean, default=True)\n    is_superuser = Column(Boolean, default=False)\n</code></pre>"},{"location":"DATABASE.html#database-transactions","title":"Database Transactions","text":""},{"location":"DATABASE.html#transaction-management","title":"Transaction Management","text":"<pre><code>from contextlib import contextmanager\nfrom sqlalchemy.orm import Session\n\n@contextmanager\ndef get_db():\n    db = SessionLocal()\n    try:\n        yield db\n        db.commit()\n    except Exception:\n        db.rollback()\n        raise\n    finally:\n        db.close()\n</code></pre>"},{"location":"DEPLOYMENT.html","title":"Deployment","text":"<p>Deployment options and configurations for the FastAPI Boilerplate.</p>"},{"location":"DEPLOYMENT.html#docker-deployment","title":"Docker Deployment","text":""},{"location":"DEPLOYMENT.html#docker-configuration","title":"Docker Configuration","text":"<pre><code># Dockerfile\nFROM python:3.9-slim\n\nWORKDIR /app\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . .\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"DEPLOYMENT.html#docker-compose","title":"Docker Compose","text":"<pre><code># docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:password@db:5432/dbname\n    depends_on:\n      - db\n\n  db:\n    image: postgres:13\n    environment:\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=password\n      - POSTGRES_DB=dbname\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\nvolumes:\n  postgres_data:\n</code></pre>"},{"location":"DEPLOYMENT.html#kubernetes-deployment","title":"Kubernetes Deployment","text":""},{"location":"DEPLOYMENT.html#deployment-configuration","title":"Deployment Configuration","text":"<pre><code># deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: fastapi-app\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: fastapi\n  template:\n    metadata:\n      labels:\n        app: fastapi\n    spec:\n      containers:\n      - name: fastapi\n        image: your-registry/fastapi-app:latest\n        ports:\n        - containerPort: 8000\n        env:\n        - name: DATABASE_URL\n          valueFrom:\n            secretKeyRef:\n              name: db-credentials\n              key: database-url\n</code></pre>"},{"location":"DEPLOYMENT.html#service-configuration","title":"Service Configuration","text":"<pre><code># service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: fastapi-service\nspec:\n  selector:\n    app: fastapi\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 8000\n  type: LoadBalancer\n</code></pre>"},{"location":"DEPLOYMENT.html#serverless-deployment","title":"Serverless Deployment","text":""},{"location":"DEPLOYMENT.html#aws-lambda-configuration","title":"AWS Lambda Configuration","text":"<pre><code># serverless.yml\nservice: fastapi-app\n\nprovider:\n  name: aws\n  runtime: python3.9\n  region: us-east-1\n\nfunctions:\n  app:\n    handler: handler.handler\n    events:\n      - http:\n          path: /{proxy+}\n          method: any\n\nplugins:\n  - serverless-wsgi\n  - serverless-python-requirements\n\ncustom:\n  wsgi:\n    app: app.main:app\n  pythonRequirements:\n    dockerizePip: true\n</code></pre>"},{"location":"DEPLOYMENT.html#environment-configuration","title":"Environment Configuration","text":""},{"location":"DEPLOYMENT.html#environment-variables","title":"Environment Variables","text":"<pre><code># .env.production\nAPP_ENV=production\nDEBUG=false\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:password@host:5432/dbname\nREDIS_URL=redis://redis:6379/0\nCORS_ORIGINS=https://your-domain.com\nJWT_SECRET_KEY=your-jwt-secret\nJWT_ALGORITHM=HS256\nJWT_ACCESS_TOKEN_EXPIRE_MINUTES=30\n</code></pre>"},{"location":"DEPLOYMENT.html#monitoring-and-logging","title":"Monitoring and Logging","text":""},{"location":"DEPLOYMENT.html#prometheus-configuration","title":"Prometheus Configuration","text":"<p>Note: Prometheus metrics are optional. Ensure <code>ENABLE_METRICS=true</code> in your <code>.env</code> file and the <code>metrics</code> optional dependency group is installed.</p> <pre><code># prometheus.yml\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'fastapi'\n    static_configs:\n      - targets: ['app:8000']\n</code></pre>"},{"location":"DEPLOYMENT.html#logging-configuration","title":"Logging Configuration","text":"<pre><code># logging.yaml\nversion: 1\ndisable_existing_loggers: false\n\nformatters:\n  standard:\n    format: '%(asctime)s [%(levelname)s] %(name)s: %(message)s'\n\nhandlers:\n  console:\n    class: logging.StreamHandler\n    formatter: standard\n    stream: ext://sys.stdout\n\n  file:\n    class: logging.handlers.RotatingFileHandler\n    formatter: standard\n    filename: /var/log/fastapi/app.log\n    maxBytes: 10485760\n    backupCount: 10\n\nroot:\n  level: INFO\n  handlers: [console, file]\n</code></pre>"},{"location":"DEPLOYMENT.html#security-considerations","title":"Security Considerations","text":""},{"location":"DEPLOYMENT.html#ssltls-configuration","title":"SSL/TLS Configuration","text":"<pre><code># nginx.conf\nserver {\n    listen 443 ssl;\n    server_name your-domain.com;\n\n    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;\n\n    location / {\n        proxy_pass http://app:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n</code></pre>"},{"location":"DEPLOYMENT.html#security-headers","title":"Security Headers","text":"<pre><code># security.py\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.middleware.trustedhost import TrustedHostMiddleware\nfrom fastapi.middleware.gzip import GZipMiddleware\n\napp = FastAPI()\n\n# CORS\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"https://your-domain.com\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Trusted Hosts\napp.add_middleware(\n    TrustedHostMiddleware,\n    allowed_hosts=[\"your-domain.com\"]\n)\n\n# GZip Compression\napp.add_middleware(GZipMiddleware, minimum_size=1000)\n</code></pre>"},{"location":"DEVELOPMENT.html","title":"Development Guide","text":""},{"location":"DEVELOPMENT.html#project-setup","title":"Project Setup","text":""},{"location":"DEVELOPMENT.html#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8+</li> <li>PostgreSQL or MySQL</li> <li>Redis (for caching and message queue)</li> <li>pip</li> <li>virtualenv (recommended)</li> </ul>"},{"location":"DEVELOPMENT.html#environment-setup","title":"Environment Setup","text":"<ol> <li> <p>Create and activate a virtual environment: <pre><code>python -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n</code></pre></p> </li> <li> <p>Install dependencies: <pre><code>pip install -r requirements.txt\n</code></pre></p> </li> <li> <p>Set up environment variables: <pre><code>cp .env.example .env\n</code></pre> Edit the <code>.env</code> file with your configuration.</p> </li> </ol>"},{"location":"DEVELOPMENT.html#database-setup","title":"Database Setup","text":"<p>PostgreSQL: <pre><code>createdb fastapi_boilerplate\n</code></pre></p> <p>MySQL: <pre><code>mysql -u root -p\nCREATE DATABASE fastapi_boilerplate;\n</code></pre></p> <ol> <li> <p>Configure database in <code>.env</code>: <pre><code># For PostgreSQL\nDB_CONNECTION=postgresql\nDB_HOST=localhost\nDB_PORT=5432\nDB_DATABASE=fastapi_boilerplate\nDB_USERNAME=postgres\nDB_PASSWORD=postgres\n\n# For MySQL\nDB_CONNECTION=mysql+pymysql\nDB_HOST=localhost\nDB_PORT=3306\nDB_DATABASE=fastapi_boilerplate\nDB_USERNAME=root\nDB_PASSWORD=root\n</code></pre></p> </li> <li> <p>Run migrations: <pre><code>alembic upgrade head\n</code></pre></p> </li> </ol>"},{"location":"DEVELOPMENT.html#redis-setup","title":"Redis Setup","text":"<p>macOS (Homebrew): <pre><code>brew install redis\nbrew services start redis\n</code></pre></p> <p>Docker: <pre><code>docker run -d -p 6379:6379 redis:latest\n</code></pre></p> <p>Linux: <pre><code>sudo apt-get install redis-server\nsudo systemctl start redis\n</code></pre></p> <p>Verify Redis is running: <pre><code>redis-cli ping\n# Should return: PONG\n</code></pre></p>"},{"location":"DEVELOPMENT.html#development-workflow","title":"Development Workflow","text":""},{"location":"DEVELOPMENT.html#running-the-development-server","title":"Running the Development Server","text":"<p><pre><code>python main.py\n</code></pre> The server will be available at http://localhost:8000</p>"},{"location":"DEVELOPMENT.html#authentication","title":"Authentication","text":""},{"location":"DEVELOPMENT.html#register-a-new-user","title":"Register a New User","text":"<p>The registration endpoint automatically logs in the user and returns an authorization token:</p> <pre><code>curl -X POST http://localhost:8000/api/v1/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"user@example.com\",\n    \"password\": \"Test@12345\",\n    \"full_name\": \"John Doe\"\n  }'\n</code></pre> <p>Response includes: - <code>id</code>: User ID - <code>email</code>: User email - <code>full_name</code>: User full name - <code>is_active</code>: Active status - <code>is_superuser</code>: Superuser status - <code>created_at</code>: Creation timestamp - <code>updated_at</code>: Update timestamp</p> <p>Note: After registration, use the <code>/api/v1/auth/login</code> endpoint to get an authorization token.</p>"},{"location":"DEVELOPMENT.html#login","title":"Login","text":"<pre><code>curl -X POST http://localhost:8000/api/v1/auth/login \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"username=user@example.com&amp;password=Test@12345\"\n</code></pre> <p>Response includes: - <code>access_token</code>: JWT token for API authentication - <code>token_type</code>: \"bearer\" - <code>user</code>: Complete user information</p>"},{"location":"DEVELOPMENT.html#using-authentication-tokens","title":"Using Authentication Tokens","text":"<p>\u26a0\ufe0f IMPORTANT: All API endpoints require authentication EXCEPT login and register.</p> <p>All protected endpoints require the <code>Authorization</code> header:</p> <pre><code>curl -X GET http://localhost:8000/api/v1/users/me \\\n  -H \"Authorization: Bearer &lt;access_token&gt;\"\n</code></pre> <p>Protected Endpoints (Require Token): - All <code>/api/v1/users/*</code> endpoints - All <code>/api/v1/files/*</code> endpoints - All <code>/api/v1/broadcasting/*</code> endpoints</p> <p>Public Endpoints (No Token Required): - <code>POST /api/v1/auth/register</code> - <code>POST /api/v1/auth/login</code></p> <p>Without a valid token, you'll receive: <pre><code>{\n  \"detail\": \"Not authenticated\"\n}\n</code></pre></p>"},{"location":"DEVELOPMENT.html#password-requirements","title":"Password Requirements","text":"<ul> <li>Minimum 8 characters</li> <li>Maximum 512 characters (bcrypt limitation handled automatically)</li> <li>At least one uppercase letter</li> <li>At least one lowercase letter</li> <li>At least one digit</li> </ul>"},{"location":"DEVELOPMENT.html#api-documentation","title":"API Documentation","text":"<ul> <li>Swagger UI: http://localhost:8000/docs</li> <li>ReDoc: http://localhost:8000/redoc</li> </ul>"},{"location":"DEVELOPMENT.html#database-migrations","title":"Database Migrations","text":""},{"location":"DEVELOPMENT.html#creating-a-new-migration","title":"Creating a new migration","text":"<pre><code>alembic revision --autogenerate -m \"description\"\n</code></pre>"},{"location":"DEVELOPMENT.html#applying-migrations","title":"Applying migrations","text":"<pre><code>alembic upgrade head\n</code></pre>"},{"location":"DEVELOPMENT.html#rolling-back-migrations","title":"Rolling back migrations","text":"<pre><code>alembic downgrade -1  # Roll back one migration\n</code></pre>"},{"location":"DEVELOPMENT.html#redis-caching","title":"Redis Caching","text":"<p>The boilerplate includes a Laravel-like caching interface:</p> <pre><code>from app.core.cache import cache\n\n# Store value\ncache().put(\"key\", \"value\", ttl=3600)\n\n# Get value\nvalue = cache().get(\"key\", default=None)\n\n# Cache-aside pattern (recommended)\nuser = cache().remember(\n    f\"user:{user_id}\",\n    ttl=300,\n    callback=lambda: User.get(db, id=user_id)\n)\n\n# Invalidate cache\ncache().forget(\"key\")\n</code></pre> <p>See Redis Usage Guide for more examples.</p>"},{"location":"DEVELOPMENT.html#background-tasks-celery","title":"Background Tasks (Celery)","text":"<p>Start Celery Worker: <pre><code># Development (with auto-reload)\ncelery -A app.core.celery_app worker --loglevel=info --reload\n\n# Production\ncelery -A app.core.celery_app worker --loglevel=info\n</code></pre></p> <p>Monitor with Flower: <pre><code>celery -A app.core.celery_app flower\n# Access at http://localhost:5555\n</code></pre></p> <p>Create Background Tasks: <pre><code>from app.core.celery_app import celery_app\n\n@celery_app.task(name=\"send_email\")\ndef send_email_task(email: str, subject: str):\n    # Your task logic here\n    pass\n\n# Call the task\nsend_email_task.delay(\"user@example.com\", \"Hello\")\n</code></pre></p>"},{"location":"DEVELOPMENT.html#testing","title":"Testing","text":""},{"location":"DEVELOPMENT.html#running-tests","title":"Running tests","text":"<pre><code>pytest\n</code></pre>"},{"location":"DEVELOPMENT.html#running-tests-with-coverage","title":"Running tests with coverage","text":"<pre><code>pytest --cov=app\n</code></pre>"},{"location":"DEVELOPMENT.html#code-structure","title":"Code Structure","text":""},{"location":"DEVELOPMENT.html#adding-new-features","title":"Adding New Features","text":"<ol> <li>Create a new model in <code>app/models/</code></li> <li>Create corresponding schemas in <code>app/schemas/</code></li> <li>Create API controllers in <code>app/api/v1/controllers/</code></li> <li>Add the new router to <code>app/api/v1/api.py</code></li> <li>Create database migration if needed</li> </ol>"},{"location":"DEVELOPMENT.html#best-practices","title":"Best Practices","text":"<ol> <li>Use type hints for all function parameters and return values</li> <li>Write docstrings for all functions and classes</li> <li>Follow PEP 8 style guide</li> <li>Write tests for new features</li> <li>Use Pydantic models for request/response validation</li> <li>Keep business logic in models or services</li> <li>Use dependency injection for database sessions and other dependencies</li> </ol>"},{"location":"DEVELOPMENT.html#error-handling","title":"Error Handling","text":"<ul> <li>Use FastAPI's built-in HTTPException for error responses</li> <li>Create custom exception classes in <code>app/core/exceptions.py</code> for specific error cases</li> <li>Use Pydantic validation for request data</li> <li>Implement proper error logging</li> <li>Security: Don't expose sensitive information in error messages</li> <li>Use <code>app/core/error_handler.py</code> for secure error handling</li> </ul>"},{"location":"DEVELOPMENT.html#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Secrets Management</li> <li>Never commit <code>.env</code> files</li> <li>Generate secure random keys for production</li> <li>Use environment variables for all secrets</li> <li> <p>Rotate secrets regularly</p> </li> <li> <p>Input Validation</p> </li> <li>Always validate user input</li> <li>Use Pydantic schemas for request validation</li> <li>Sanitize file paths and filenames</li> <li> <p>Validate file types and sizes</p> </li> <li> <p>Authentication &amp; Authorization</p> </li> <li>Use strong password requirements</li> <li>Implement proper JWT token validation</li> <li>Check user permissions before operations</li> <li> <p>Use policies and gates for authorization</p> </li> <li> <p>File Operations</p> </li> <li>Validate file paths to prevent path traversal</li> <li>Check file types and sizes</li> <li>Sanitize filenames</li> <li> <p>Use <code>app/core/file_security.py</code> utilities</p> </li> <li> <p>Command Execution</p> </li> <li>Never execute user input as commands</li> <li>Use whitelists for allowed commands</li> <li>Avoid <code>shell=True</code> in subprocess calls</li> <li> <p>Validate command parameters</p> </li> <li> <p>Error Handling</p> </li> <li>Don't expose stack traces in production</li> <li>Use generic error messages</li> <li>Log errors securely</li> <li> <p>Include request IDs for tracking</p> </li> <li> <p>Rate Limiting</p> </li> <li>Use Redis for distributed rate limiting</li> <li>Set appropriate limits per endpoint</li> <li> <p>Implement stricter limits for auth endpoints</p> </li> <li> <p>Security Headers</p> </li> <li>Always include security headers</li> <li>Configure CSP properly</li> <li> <p>Use HSTS in production with HTTPS</p> </li> <li> <p>CORS Configuration</p> </li> <li>Never use wildcard (<code>*</code>) in production</li> <li>Specify exact origins</li> <li> <p>Don't allow credentials with wildcard</p> </li> <li> <p>Dependencies</p> <ul> <li>Regularly update dependencies</li> <li>Scan for known vulnerabilities</li> <li>Use <code>pip-audit</code> or <code>safety</code> to check packages</li> </ul> </li> </ol>"},{"location":"DEVELOPMENT.html#security-testing","title":"Security Testing","text":"<pre><code># Check for known vulnerabilities\npip install safety\nsafety check\n\n# Or use pip-audit\npip install pip-audit\npip-audit\n\n# Run security linter\npip install bandit\nbandit -r app/\n</code></pre> <p>See Security Guide for comprehensive security information.</p>"},{"location":"DEVELOPMENT.html#security","title":"Security","text":"<ul> <li>Always use HTTPS in production</li> <li>Implement proper authentication and authorization</li> <li>Use environment variables for sensitive data</li> <li>Implement rate limiting for API endpoints</li> <li>Use secure password hashing</li> <li>Implement proper CORS configuration</li> </ul>"},{"location":"DEVELOPMENT.html#deployment","title":"Deployment","text":""},{"location":"DEVELOPMENT.html#production-setup","title":"Production Setup","text":"<ol> <li>Set up a production database</li> <li>Configure environment variables for production</li> <li>Set up a reverse proxy (Nginx/Apache)</li> <li>Use a process manager (Gunicorn/Uvicorn)</li> <li>Set up SSL certificates</li> <li>Configure proper logging</li> </ol>"},{"location":"DEVELOPMENT.html#docker-deployment","title":"Docker Deployment","text":"<ol> <li> <p>Build the Docker image: <pre><code>docker build -t fastapi_boilerplate .\n</code></pre></p> </li> <li> <p>Run the container: <pre><code>docker run -p 8000:8000 fastapi_boilerplate\n</code></pre></p> </li> </ol>"},{"location":"DEVELOPMENT.html#contributing","title":"Contributing","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Run tests</li> <li>Submit a pull request</li> </ol>"},{"location":"DEVELOPMENT.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"DEVELOPMENT.html#common-issues","title":"Common Issues","text":"<ol> <li>Database connection errors</li> <li>Check database credentials in <code>.env</code></li> <li>Ensure PostgreSQL/MySQL is running</li> <li>Verify database exists</li> <li> <p>For MySQL with MAMP, check <code>DB_UNIX_SOCKET</code> path</p> </li> <li> <p>Redis connection errors</p> </li> <li>Ensure Redis is running: <code>redis-cli ping</code></li> <li>Check Redis configuration in <code>.env</code></li> <li> <p>Verify Redis port (default: 6379)</p> </li> <li> <p>Celery worker not processing tasks</p> </li> <li>Ensure Redis is running</li> <li>Check Celery worker is started</li> <li>Verify tasks are imported in <code>celery_app.py</code></li> <li> <p>Check Celery logs for errors</p> </li> <li> <p>Migration errors</p> </li> <li>Check for conflicting migrations</li> <li> <p>Verify database schema matches models</p> </li> <li> <p>Authentication issues</p> </li> <li>Check JWT configuration</li> <li>Verify token expiration</li> <li>Check user credentials</li> </ol>"},{"location":"DEVELOPMENT.html#getting-help","title":"Getting Help","text":"<ul> <li>Check the documentation</li> <li>Search existing issues</li> <li>Create a new issue with detailed information</li> <li>Join the community chat </li> </ul>"},{"location":"ENVIRONMENT.html","title":"Environment Configuration Guide","text":"<p>This document explains all the environment variables used in the FastAPI boilerplate and their configuration options.</p>"},{"location":"ENVIRONMENT.html#database-configuration","title":"Database Configuration","text":""},{"location":"ENVIRONMENT.html#db_connection","title":"DB_CONNECTION","text":"<ul> <li>Description: Database connection type</li> <li>Options: <code>postgresql</code>, <code>postgres</code>, <code>mysql</code>, <code>mysql+pymysql</code></li> <li>Default: <code>postgresql</code></li> <li>Note: The same SQLAlchemy models work with both PostgreSQL and MySQL</li> </ul>"},{"location":"ENVIRONMENT.html#db_host","title":"DB_HOST","text":"<ul> <li>Description: Database server host address</li> <li>Default: <code>localhost</code></li> </ul>"},{"location":"ENVIRONMENT.html#db_port","title":"DB_PORT","text":"<ul> <li>Description: Database server port number</li> <li>Default: <code>5432</code> (PostgreSQL), <code>3306</code> (MySQL), <code>8889</code> (MAMP MySQL)</li> </ul>"},{"location":"ENVIRONMENT.html#db_database","title":"DB_DATABASE","text":"<ul> <li>Description: Database name</li> <li>Default: <code>fastapi_boilerplate</code></li> </ul>"},{"location":"ENVIRONMENT.html#db_username","title":"DB_USERNAME","text":"<ul> <li>Description: Database username</li> <li>Default: <code>postgres</code> (PostgreSQL), <code>root</code> (MySQL)</li> </ul>"},{"location":"ENVIRONMENT.html#db_password","title":"DB_PASSWORD","text":"<ul> <li>Description: Database password</li> <li>Default: <code>postgres</code> (PostgreSQL), <code>root</code> (MySQL)</li> </ul>"},{"location":"ENVIRONMENT.html#db_unix_socket","title":"DB_UNIX_SOCKET","text":"<ul> <li>Description: MySQL Unix socket path (optional)</li> <li>Example: <code>/Applications/MAMP/tmp/mysql/mysql.sock</code></li> <li>Default: <code>None</code></li> <li>Note: Only used for MySQL connections</li> </ul>"},{"location":"ENVIRONMENT.html#db_ssl_mode","title":"DB_SSL_MODE","text":"<ul> <li>Description: PostgreSQL SSL mode (optional)</li> <li>Options: <code>require</code>, <code>prefer</code>, <code>allow</code>, <code>disable</code></li> <li>Default: <code>None</code></li> <li>Note: Only used for PostgreSQL connections</li> </ul>"},{"location":"ENVIRONMENT.html#application-configuration","title":"Application Configuration","text":""},{"location":"ENVIRONMENT.html#app_name","title":"APP_NAME","text":"<ul> <li>Description: Application name</li> <li>Default: <code>FastAPI Boilerplate</code></li> </ul>"},{"location":"ENVIRONMENT.html#app_env","title":"APP_ENV","text":"<ul> <li>Description: Application environment</li> <li>Options: <code>local</code>, <code>development</code>, <code>staging</code>, <code>production</code></li> <li>Default: <code>local</code></li> </ul>"},{"location":"ENVIRONMENT.html#app_debug","title":"APP_DEBUG","text":"<ul> <li>Description: Enable/disable debug mode</li> <li>Options: <code>true</code>, <code>false</code></li> <li>Default: <code>false</code> (for security)</li> <li>Security: Should always be <code>false</code> in production to prevent information disclosure</li> </ul>"},{"location":"ENVIRONMENT.html#app_url","title":"APP_URL","text":"<ul> <li>Description: Application URL</li> <li>Default: <code>http://localhost:8000</code></li> </ul>"},{"location":"ENVIRONMENT.html#app_key","title":"APP_KEY","text":"<ul> <li>Description: Application secret key for encryption</li> <li>Required: Yes (must be set, no default in production)</li> <li>Security: Must be at least 32 characters long</li> <li>Generation:    <pre><code>python -c \"import secrets; print(secrets.token_urlsafe(32))\"\n</code></pre></li> <li>Note: CRITICAL - Never use default values in production. Generate a secure random key.</li> </ul>"},{"location":"ENVIRONMENT.html#app_timezone","title":"APP_TIMEZONE","text":"<ul> <li>Description: Default timezone for scheduled tasks</li> <li>Default: <code>UTC</code></li> <li>Examples: <code>America/New_York</code>, <code>Europe/London</code>, <code>Asia/Tokyo</code></li> <li>Note: Used by the task scheduler</li> </ul>"},{"location":"ENVIRONMENT.html#enable_metrics","title":"ENABLE_METRICS","text":"<ul> <li>Description: Enable Prometheus metrics endpoint</li> <li>Options: <code>true</code>, <code>false</code></li> <li>Default: <code>true</code></li> <li>Note: Requires <code>prometheus-fastapi-instrumentator</code> package to be installed.</li> </ul>"},{"location":"ENVIRONMENT.html#jwt-configuration","title":"JWT Configuration","text":""},{"location":"ENVIRONMENT.html#jwt_secret","title":"JWT_SECRET","text":"<ul> <li>Description: Secret key for JWT token generation</li> <li>Required: Yes (must be set, no default in production)</li> <li>Security: Must be at least 32 characters long</li> <li>Generation:    <pre><code>python -c \"import secrets; print(secrets.token_urlsafe(32))\"\n</code></pre></li> <li>Note: CRITICAL - Never use default values in production. Generate a secure random key.</li> </ul>"},{"location":"ENVIRONMENT.html#jwt_algorithm","title":"JWT_ALGORITHM","text":"<ul> <li>Description: JWT algorithm</li> <li>Options: <code>HS256</code>, <code>RS256</code>, etc.</li> <li>Default: <code>HS256</code></li> </ul>"},{"location":"ENVIRONMENT.html#jwt_expiration","title":"JWT_EXPIRATION","text":"<ul> <li>Description: JWT token expiration time in minutes</li> <li>Default: <code>3600</code> (1 hour)</li> </ul>"},{"location":"ENVIRONMENT.html#redis-configuration","title":"Redis Configuration","text":""},{"location":"ENVIRONMENT.html#redis_host","title":"REDIS_HOST","text":"<ul> <li>Description: Redis server host address</li> <li>Default: <code>localhost</code></li> </ul>"},{"location":"ENVIRONMENT.html#redis_port","title":"REDIS_PORT","text":"<ul> <li>Description: Redis server port number</li> <li>Default: <code>6379</code></li> </ul>"},{"location":"ENVIRONMENT.html#redis_db","title":"REDIS_DB","text":"<ul> <li>Description: Redis database number</li> <li>Range: <code>0-15</code></li> <li>Default: <code>0</code></li> </ul>"},{"location":"ENVIRONMENT.html#redis_password","title":"REDIS_PASSWORD","text":"<ul> <li>Description: Redis password (if required)</li> <li>Default: Empty</li> </ul>"},{"location":"ENVIRONMENT.html#cache-configuration","title":"Cache Configuration","text":""},{"location":"ENVIRONMENT.html#cache_prefix","title":"CACHE_PREFIX","text":"<ul> <li>Description: Prefix for all cache keys</li> <li>Default: <code>cache:</code></li> <li>Example: Keys will be stored as <code>cache:user:123</code></li> </ul>"},{"location":"ENVIRONMENT.html#cache_default_ttl","title":"CACHE_DEFAULT_TTL","text":"<ul> <li>Description: Default time-to-live for cached items in seconds</li> <li>Default: <code>3600</code> (1 hour)</li> <li>Note: Can be overridden per cache operation</li> </ul>"},{"location":"ENVIRONMENT.html#cache_serializer","title":"CACHE_SERIALIZER","text":"<ul> <li>Description: Serialization method for cache values</li> <li>Options: <code>json</code>, <code>pickle</code></li> <li>Default: <code>json</code></li> <li>Note: JSON is faster but limited to basic types. Pickle supports all Python objects.</li> </ul>"},{"location":"ENVIRONMENT.html#rate-limiting-configuration","title":"Rate Limiting Configuration","text":""},{"location":"ENVIRONMENT.html#rate_limit","title":"RATE_LIMIT","text":"<ul> <li>Description: Maximum number of requests allowed per window</li> <li>Default: <code>100</code></li> </ul>"},{"location":"ENVIRONMENT.html#rate_limit_window","title":"RATE_LIMIT_WINDOW","text":"<ul> <li>Description: Rate limit window in seconds</li> <li>Default: <code>60</code> (1 minute)</li> </ul>"},{"location":"ENVIRONMENT.html#cors-configuration","title":"CORS Configuration","text":""},{"location":"ENVIRONMENT.html#backend_cors_origins","title":"BACKEND_CORS_ORIGINS","text":"<ul> <li>Description: Allowed origins for CORS</li> <li>Format: JSON array of URLs</li> <li>Example: <code>[\"http://localhost:3000\",\"http://localhost:8000\"]</code></li> </ul>"},{"location":"ENVIRONMENT.html#email-configuration","title":"Email Configuration","text":""},{"location":"ENVIRONMENT.html#mail_host","title":"MAIL_HOST","text":"<ul> <li>Description: Email server host</li> <li>Default: <code>smtp.mailtrap.io</code></li> </ul>"},{"location":"ENVIRONMENT.html#mail_port","title":"MAIL_PORT","text":"<ul> <li>Description: Email server port</li> <li>Default: <code>2525</code></li> </ul>"},{"location":"ENVIRONMENT.html#mail_username","title":"MAIL_USERNAME","text":"<ul> <li>Description: Email username</li> <li>Default: <code>null</code></li> </ul>"},{"location":"ENVIRONMENT.html#mail_password","title":"MAIL_PASSWORD","text":"<ul> <li>Description: Email password</li> <li>Default: <code>null</code></li> </ul>"},{"location":"ENVIRONMENT.html#mail_encryption","title":"MAIL_ENCRYPTION","text":"<ul> <li>Description: Email encryption</li> <li>Options: <code>tls</code>, <code>ssl</code>, <code>none</code></li> <li>Default: <code>tls</code></li> </ul>"},{"location":"ENVIRONMENT.html#mail_from_address","title":"MAIL_FROM_ADDRESS","text":"<ul> <li>Description: Default sender email</li> <li>Default: <code>hello@example.com</code></li> </ul>"},{"location":"ENVIRONMENT.html#mail_from_name","title":"MAIL_FROM_NAME","text":"<ul> <li>Description: Default sender name</li> <li>Default: <code>${APP_NAME}</code></li> </ul>"},{"location":"ENVIRONMENT.html#celery-configuration-message-queue","title":"Celery Configuration (Message Queue)","text":""},{"location":"ENVIRONMENT.html#celery_broker_url","title":"CELERY_BROKER_URL","text":"<ul> <li>Description: Celery broker URL (optional)</li> <li>Default: Auto-generated from Redis settings if not set</li> <li>Format: <code>redis://[password@]host:port/db</code></li> <li>Note: If not set, will use Redis configuration from <code>REDIS_HOST</code>, <code>REDIS_PORT</code>, etc.</li> </ul>"},{"location":"ENVIRONMENT.html#celery_result_backend","title":"CELERY_RESULT_BACKEND","text":"<ul> <li>Description: Celery result backend URL (optional)</li> <li>Default: Auto-generated from Redis settings if not set</li> <li>Format: <code>redis://[password@]host:port/db</code></li> <li>Note: If not set, will use Redis configuration from <code>REDIS_HOST</code>, <code>REDIS_PORT</code>, etc.</li> </ul>"},{"location":"ENVIRONMENT.html#celery_worker_concurrency","title":"CELERY_WORKER_CONCURRENCY","text":"<ul> <li>Description: Number of worker processes</li> <li>Default: <code>4</code></li> </ul>"},{"location":"ENVIRONMENT.html#celery_task_time_limit","title":"CELERY_TASK_TIME_LIMIT","text":"<ul> <li>Description: Hard time limit for tasks in seconds</li> <li>Default: <code>1800</code> (30 minutes)</li> </ul>"},{"location":"ENVIRONMENT.html#celery_task_soft_time_limit","title":"CELERY_TASK_SOFT_TIME_LIMIT","text":"<ul> <li>Description: Soft time limit for tasks in seconds</li> <li>Default: <code>1200</code> (20 minutes)</li> </ul>"},{"location":"ENVIRONMENT.html#logging-configuration","title":"Logging Configuration","text":""},{"location":"ENVIRONMENT.html#log_level","title":"LOG_LEVEL","text":"<ul> <li>Description: Log level</li> <li>Options: <code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>, <code>CRITICAL</code></li> <li>Default: <code>INFO</code></li> </ul>"},{"location":"ENVIRONMENT.html#log_file","title":"LOG_FILE","text":"<ul> <li>Description: Log file path</li> <li>Default: <code>logs/app.log</code></li> </ul>"},{"location":"ENVIRONMENT.html#log_max_size","title":"LOG_MAX_SIZE","text":"<ul> <li>Description: Maximum log file size in bytes</li> <li>Default: <code>10485760</code> (10MB)</li> </ul>"},{"location":"ENVIRONMENT.html#log_backup_count","title":"LOG_BACKUP_COUNT","text":"<ul> <li>Description: Number of backup logs to keep</li> <li>Default: <code>5</code></li> </ul>"},{"location":"ENVIRONMENT.html#filesystem-configuration","title":"Filesystem Configuration","text":""},{"location":"ENVIRONMENT.html#filesystem_disk","title":"FILESYSTEM_DISK","text":"<ul> <li>Description: Default storage driver</li> <li>Options: <code>local</code>, <code>s3</code>, <code>ftp</code>, <code>sftp</code></li> <li>Default: <code>local</code></li> </ul>"},{"location":"ENVIRONMENT.html#filesystem_root","title":"FILESYSTEM_ROOT","text":"<ul> <li>Description: Root directory for local storage</li> <li>Default: <code>storage/app</code></li> </ul>"},{"location":"ENVIRONMENT.html#filesystem_url","title":"FILESYSTEM_URL","text":"<ul> <li>Description: Public URL for local storage</li> <li>Default: <code>None</code> (uses APP_URL/storage)</li> </ul>"},{"location":"ENVIRONMENT.html#aws_access_key_id","title":"AWS_ACCESS_KEY_ID","text":"<ul> <li>Description: AWS access key for S3 storage</li> <li>Default: <code>None</code></li> <li>Note: Required for S3 driver</li> </ul>"},{"location":"ENVIRONMENT.html#aws_secret_access_key","title":"AWS_SECRET_ACCESS_KEY","text":"<ul> <li>Description: AWS secret key for S3 storage</li> <li>Default: <code>None</code></li> <li>Note: Required for S3 driver</li> </ul>"},{"location":"ENVIRONMENT.html#aws_default_region","title":"AWS_DEFAULT_REGION","text":"<ul> <li>Description: AWS region for S3 bucket</li> <li>Default: <code>us-east-1</code></li> </ul>"},{"location":"ENVIRONMENT.html#aws_bucket","title":"AWS_BUCKET","text":"<ul> <li>Description: S3 bucket name</li> <li>Default: <code>None</code></li> <li>Note: Required for S3 driver</li> </ul>"},{"location":"ENVIRONMENT.html#aws_endpoint","title":"AWS_ENDPOINT","text":"<ul> <li>Description: Custom S3 endpoint (for S3-compatible services)</li> <li>Default: <code>None</code></li> <li>Example: <code>https://nyc3.digitaloceanspaces.com</code> (DigitalOcean Spaces)</li> </ul>"},{"location":"ENVIRONMENT.html#ftp_host","title":"FTP_HOST","text":"<ul> <li>Description: FTP server host</li> <li>Default: <code>localhost</code></li> </ul>"},{"location":"ENVIRONMENT.html#ftp_port","title":"FTP_PORT","text":"<ul> <li>Description: FTP server port</li> <li>Default: <code>21</code></li> </ul>"},{"location":"ENVIRONMENT.html#ftp_username","title":"FTP_USERNAME","text":"<ul> <li>Description: FTP username</li> <li>Default: <code>None</code></li> </ul>"},{"location":"ENVIRONMENT.html#ftp_password","title":"FTP_PASSWORD","text":"<ul> <li>Description: FTP password</li> <li>Default: <code>None</code></li> </ul>"},{"location":"ENVIRONMENT.html#sftp_host","title":"SFTP_HOST","text":"<ul> <li>Description: SFTP server host</li> <li>Default: <code>localhost</code></li> </ul>"},{"location":"ENVIRONMENT.html#sftp_port","title":"SFTP_PORT","text":"<ul> <li>Description: SFTP server port</li> <li>Default: <code>22</code></li> </ul>"},{"location":"ENVIRONMENT.html#sftp_username","title":"SFTP_USERNAME","text":"<ul> <li>Description: SFTP username</li> <li>Default: <code>None</code></li> </ul>"},{"location":"ENVIRONMENT.html#sftp_password","title":"SFTP_PASSWORD","text":"<ul> <li>Description: SFTP password</li> <li>Default: <code>None</code></li> </ul>"},{"location":"ENVIRONMENT.html#sftp_key","title":"SFTP_KEY","text":"<ul> <li>Description: Path to SSH private key file</li> <li>Default: <code>None</code></li> </ul>"},{"location":"ENVIRONMENT.html#setting-up-environment-variables","title":"Setting Up Environment Variables","text":"<ol> <li> <p>Copy the <code>.env.example</code> file to <code>.env</code>: <pre><code>cp .env.example .env\n</code></pre></p> </li> <li> <p>Edit the <code>.env</code> file with your configuration: <pre><code>nano .env\n</code></pre></p> </li> <li> <p>For production, make sure to:</p> </li> <li>Set <code>APP_ENV=production</code></li> <li>Set <code>APP_DEBUG=false</code></li> <li>Generate secure random keys for <code>APP_KEY</code> and <code>JWT_SECRET</code></li> <li>Configure proper database credentials</li> <li>Set up proper CORS origins</li> <li>Configure email settings</li> <li>Set up Redis for production</li> </ol>"},{"location":"ENVIRONMENT.html#environment-specific-configuration","title":"Environment-Specific Configuration","text":""},{"location":"ENVIRONMENT.html#local-development","title":"Local Development","text":"<ul> <li>Use local database</li> <li>Enable debug mode</li> <li>Use local Redis</li> <li>Set CORS to allow local development URLs</li> </ul>"},{"location":"ENVIRONMENT.html#production","title":"Production","text":"<ul> <li>Use production database</li> <li>Disable debug mode</li> <li>Use production Redis</li> <li>Set proper CORS origins</li> <li>Configure proper email settings</li> <li>Set up proper logging</li> </ul>"},{"location":"ENVIRONMENT.html#security-considerations","title":"Security Considerations","text":"<ol> <li>Never commit <code>.env</code> files to version control</li> <li>Use strong, random keys for <code>APP_KEY</code> and <code>JWT_SECRET</code></li> <li>Use environment-specific configurations</li> <li>Regularly rotate secrets in production</li> <li>Use HTTPS in production</li> <li>Configure proper CORS settings</li> <li>Set up proper rate limiting</li> <li>Use secure database passwords</li> <li>Configure proper Redis security</li> <li>Set up proper email encryption </li> </ol>"},{"location":"FILE_STORAGE.html","title":"File Storage Guide","text":"<p>This guide explains how to use the Laravel-like file storage system in this FastAPI boilerplate.</p>"},{"location":"FILE_STORAGE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Configuration</li> <li>Basic Usage</li> <li>Storage Drivers</li> <li>API Reference</li> <li>Examples</li> </ol>"},{"location":"FILE_STORAGE.html#introduction","title":"Introduction","text":"<p>The boilerplate provides a powerful filesystem abstraction similar to Laravel's Storage facade. It uses PyFilesystem2 under the hood, allowing you to work with local filesystems, Amazon S3, FTP, SFTP, and more using the same simple API.</p>"},{"location":"FILE_STORAGE.html#key-features","title":"Key Features","text":"<ul> <li>Unified API: Same methods work with all storage drivers</li> <li>Easy Switching: Change storage driver via configuration</li> <li>Laravel-like: Familiar API for Laravel developers</li> <li>Multiple Drivers: Local, S3, FTP, SFTP support</li> </ul>"},{"location":"FILE_STORAGE.html#configuration","title":"Configuration","text":""},{"location":"FILE_STORAGE.html#environment-variables","title":"Environment Variables","text":"<p>Configure file storage in your <code>.env</code> file:</p> <pre><code># Default storage driver\nFILESYSTEM_DISK=local  # Options: local, s3, ftp, sftp\nFILESYSTEM_ROOT=storage/app  # Local storage root directory\nFILESYSTEM_URL=  # Public URL for local storage (optional)\n</code></pre>"},{"location":"FILE_STORAGE.html#local-storage","title":"Local Storage","text":"<p>Default driver for local file storage:</p> <pre><code>FILESYSTEM_DISK=local\nFILESYSTEM_ROOT=storage/app\nFILESYSTEM_URL=http://localhost:8000/storage\n</code></pre>"},{"location":"FILE_STORAGE.html#amazon-s3","title":"Amazon S3","text":"<p>For cloud storage with Amazon S3:</p> <pre><code>FILESYSTEM_DISK=s3\nAWS_ACCESS_KEY_ID=your-access-key\nAWS_SECRET_ACCESS_KEY=your-secret-key\nAWS_DEFAULT_REGION=us-east-1\nAWS_BUCKET=your-bucket-name\nAWS_ENDPOINT=  # Optional: for S3-compatible services\n</code></pre>"},{"location":"FILE_STORAGE.html#ftp","title":"FTP","text":"<p>For FTP server storage:</p> <pre><code>FILESYSTEM_DISK=ftp\nFTP_HOST=ftp.example.com\nFTP_PORT=21\nFTP_USERNAME=your-username\nFTP_PASSWORD=your-password\n</code></pre>"},{"location":"FILE_STORAGE.html#sftp","title":"SFTP","text":"<p>For SFTP server storage:</p> <pre><code>FILESYSTEM_DISK=sftp\nSFTP_HOST=sftp.example.com\nSFTP_PORT=22\nSFTP_USERNAME=your-username\nSFTP_PASSWORD=your-password\nSFTP_KEY=/path/to/private/key  # Optional: SSH key path\n</code></pre>"},{"location":"FILE_STORAGE.html#basic-usage","title":"Basic Usage","text":""},{"location":"FILE_STORAGE.html#import-storage","title":"Import Storage","text":"<pre><code>from app.core.storage import storage\n</code></pre>"},{"location":"FILE_STORAGE.html#store-files","title":"Store Files","text":"<pre><code># Store string content\nstorage().put('file.txt', 'Hello, World!')\n\n# Store bytes\nstorage().put('file.bin', b'Binary content')\n\n# Store from file-like object\nwith open('local_file.txt', 'rb') as f:\n    storage().put('remote_file.txt', f.read())\n</code></pre>"},{"location":"FILE_STORAGE.html#retrieve-files","title":"Retrieve Files","text":"<pre><code># Get file content as bytes\ncontent = storage().get('file.txt')\n\n# Convert to string\ntext = content.decode('utf-8') if content else None\n</code></pre>"},{"location":"FILE_STORAGE.html#check-file-existence","title":"Check File Existence","text":"<pre><code>if storage().exists('file.txt'):\n    print(\"File exists\")\n</code></pre>"},{"location":"FILE_STORAGE.html#delete-files","title":"Delete Files","text":"<pre><code>storage().delete('file.txt')\n</code></pre>"},{"location":"FILE_STORAGE.html#get-file-url","title":"Get File URL","text":"<pre><code>url = storage().url('file.txt')\n# Returns: http://localhost:8000/storage/file.txt (for local)\n# Returns: https://bucket.s3.region.amazonaws.com/file.txt (for S3)\n</code></pre>"},{"location":"FILE_STORAGE.html#storage-drivers","title":"Storage Drivers","text":""},{"location":"FILE_STORAGE.html#switching-drivers","title":"Switching Drivers","text":"<p>You can use different storage drivers in the same application:</p> <pre><code># Use default disk (from FILESYSTEM_DISK)\nstorage().put('file.txt', 'content')\n\n# Use specific disk\nstorage('s3').put('file.txt', 'content')\nstorage('local').put('file.txt', 'content')\n</code></pre>"},{"location":"FILE_STORAGE.html#local-storage_1","title":"Local Storage","text":"<p>Best for development and small applications:</p> <pre><code># Files stored in storage/app directory\nstorage('local').put('uploads/file.txt', 'content')\n</code></pre>"},{"location":"FILE_STORAGE.html#amazon-s3_1","title":"Amazon S3","text":"<p>Best for production and scalable applications:</p> <pre><code># Files stored in S3 bucket\nstorage('s3').put('uploads/file.txt', 'content')\n</code></pre> <p>Benefits: - Scalable storage - CDN integration - High availability - Pay-as-you-go pricing</p>"},{"location":"FILE_STORAGE.html#ftp_1","title":"FTP","text":"<p>For legacy systems or specific requirements:</p> <pre><code># Files stored on FTP server\nstorage('ftp').put('uploads/file.txt', 'content')\n</code></pre>"},{"location":"FILE_STORAGE.html#sftp_1","title":"SFTP","text":"<p>For secure file transfers:</p> <pre><code># Files stored on SFTP server\nstorage('sftp').put('uploads/file.txt', 'content')\n</code></pre>"},{"location":"FILE_STORAGE.html#api-reference","title":"API Reference","text":""},{"location":"FILE_STORAGE.html#putpath-content-overwritetrue","title":"put(path, content, overwrite=True)","text":"<p>Store file content at given path.</p> <p>Parameters: - <code>path</code> (str): File path - <code>content</code> (str|bytes|BinaryIO): File content - <code>overwrite</code> (bool): Whether to overwrite existing file</p> <p>Returns: <code>bool</code> - True if successful</p> <p>Example: <pre><code>storage().put('file.txt', 'content')\nstorage().put('file.txt', 'content', overwrite=False)\n</code></pre></p>"},{"location":"FILE_STORAGE.html#getpath","title":"get(path)","text":"<p>Get file content.</p> <p>Parameters: - <code>path</code> (str): File path</p> <p>Returns: <code>bytes|None</code> - File content or None if not found</p> <p>Example: <pre><code>content = storage().get('file.txt')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#existspath","title":"exists(path)","text":"<p>Check if file exists.</p> <p>Parameters: - <code>path</code> (str): File path</p> <p>Returns: <code>bool</code> - True if file exists</p> <p>Example: <pre><code>if storage().exists('file.txt'):\n    print(\"Exists\")\n</code></pre></p>"},{"location":"FILE_STORAGE.html#deletepath","title":"delete(path)","text":"<p>Delete file.</p> <p>Parameters: - <code>path</code> (str): File path</p> <p>Returns: <code>bool</code> - True if deleted successfully</p> <p>Example: <pre><code>storage().delete('file.txt')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#copyfrom_path-to_path","title":"copy(from_path, to_path)","text":"<p>Copy file from one location to another.</p> <p>Parameters: - <code>from_path</code> (str): Source path - <code>to_path</code> (str): Destination path</p> <p>Returns: <code>bool</code> - True if copied successfully</p> <p>Example: <pre><code>storage().copy('old/file.txt', 'new/file.txt')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#movefrom_path-to_path","title":"move(from_path, to_path)","text":"<p>Move file from one location to another.</p> <p>Parameters: - <code>from_path</code> (str): Source path - <code>to_path</code> (str): Destination path</p> <p>Returns: <code>bool</code> - True if moved successfully</p> <p>Example: <pre><code>storage().move('old/file.txt', 'new/file.txt')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#sizepath","title":"size(path)","text":"<p>Get file size in bytes.</p> <p>Parameters: - <code>path</code> (str): File path</p> <p>Returns: <code>int|None</code> - File size or None if not found</p> <p>Example: <pre><code>size = storage().size('file.txt')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#mime_typepath","title":"mime_type(path)","text":"<p>Get file MIME type.</p> <p>Parameters: - <code>path</code> (str): File path</p> <p>Returns: <code>str|None</code> - MIME type or None if not found</p> <p>Example: <pre><code>mime = storage().mime_type('file.txt')\n# Returns: 'text/plain'\n</code></pre></p>"},{"location":"FILE_STORAGE.html#last_modifiedpath","title":"last_modified(path)","text":"<p>Get file last modified timestamp.</p> <p>Parameters: - <code>path</code> (str): File path</p> <p>Returns: <code>float|None</code> - Unix timestamp or None if not found</p> <p>Example: <pre><code>timestamp = storage().last_modified('file.txt')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#filesdirectory","title":"files(directory='')","text":"<p>Get list of files in directory.</p> <p>Parameters: - <code>directory</code> (str): Directory path</p> <p>Returns: <code>List[str]</code> - List of file paths</p> <p>Example: <pre><code>files = storage().files('uploads/')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#directoriesdirectory","title":"directories(directory='')","text":"<p>Get list of directories.</p> <p>Parameters: - <code>directory</code> (str): Directory path</p> <p>Returns: <code>List[str]</code> - List of directory paths</p> <p>Example: <pre><code>dirs = storage().directories('uploads/')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#make_directorypath","title":"make_directory(path)","text":"<p>Create directory.</p> <p>Parameters: - <code>path</code> (str): Directory path</p> <p>Returns: <code>bool</code> - True if created successfully</p> <p>Example: <pre><code>storage().make_directory('uploads/2024/')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#delete_directorypath","title":"delete_directory(path)","text":"<p>Delete directory and all contents.</p> <p>Parameters: - <code>path</code> (str): Directory path</p> <p>Returns: <code>bool</code> - True if deleted successfully</p> <p>Example: <pre><code>storage().delete_directory('uploads/old/')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#urlpath","title":"url(path)","text":"<p>Get public URL for file.</p> <p>Parameters: - <code>path</code> (str): File path</p> <p>Returns: <code>str|None</code> - File URL or None if not available</p> <p>Example: <pre><code>url = storage().url('file.txt')\n</code></pre></p>"},{"location":"FILE_STORAGE.html#examples","title":"Examples","text":""},{"location":"FILE_STORAGE.html#example-1-file-upload","title":"Example 1: File Upload","text":"<pre><code>from fastapi import UploadFile\nfrom app.core.storage import storage\n\nasync def upload_file(file: UploadFile):\n    # Read file content\n    content = await file.read()\n\n    # Generate unique filename\n    import uuid\n    filename = f\"{uuid.uuid4()}_{file.filename}\"\n    path = f\"uploads/{filename}\"\n\n    # Store file\n    storage().put(path, content)\n\n    return {\n        \"path\": path,\n        \"url\": storage().url(path),\n        \"size\": storage().size(path),\n    }\n</code></pre>"},{"location":"FILE_STORAGE.html#example-2-file-download","title":"Example 2: File Download","text":"<pre><code>from fastapi.responses import StreamingResponse\nfrom app.core.storage import storage\nimport io\n\ndef download_file(path: str):\n    if not storage().exists(path):\n        raise HTTPException(status_code=404, detail=\"File not found\")\n\n    content = storage().get(path)\n    filename = path.split('/')[-1]\n\n    return StreamingResponse(\n        io.BytesIO(content),\n        media_type=\"application/octet-stream\",\n        headers={\"Content-Disposition\": f\"attachment; filename={filename}\"}\n    )\n</code></pre>"},{"location":"FILE_STORAGE.html#example-3-image-processing","title":"Example 3: Image Processing","text":"<pre><code>from app.core.storage import storage\nfrom PIL import Image\nimport io\n\ndef process_image(path: str):\n    # Get image from storage\n    content = storage().get(path)\n    if not content:\n        return None\n\n    # Process image\n    image = Image.open(io.BytesIO(content))\n    image.thumbnail((800, 800))\n\n    # Save processed image\n    output = io.BytesIO()\n    image.save(output, format='JPEG')\n    output.seek(0)\n\n    # Store processed image\n    processed_path = f\"processed/{path}\"\n    storage().put(processed_path, output.read())\n\n    return processed_path\n</code></pre>"},{"location":"FILE_STORAGE.html#example-4-backup-to-s3","title":"Example 4: Backup to S3","text":"<pre><code>from app.core.storage import storage\n\ndef backup_to_s3(local_path: str, s3_path: str):\n    # Get file from local storage\n    content = storage('local').get(local_path)\n    if not content:\n        return False\n\n    # Store in S3\n    return storage('s3').put(s3_path, content)\n</code></pre>"},{"location":"FILE_STORAGE.html#example-5-file-cleanup","title":"Example 5: File Cleanup","text":"<pre><code>from app.core.storage import storage\nfrom datetime import datetime, timedelta\n\ndef cleanup_old_files(directory: str, days: int = 30):\n    \"\"\"Delete files older than specified days.\"\"\"\n    cutoff = datetime.now() - timedelta(days=days)\n\n    files = storage().files(directory)\n    deleted = 0\n\n    for file_path in files:\n        last_modified = storage().last_modified(file_path)\n        if last_modified:\n            file_time = datetime.fromtimestamp(last_modified)\n            if file_time &lt; cutoff:\n                storage().delete(file_path)\n                deleted += 1\n\n    return deleted\n</code></pre>"},{"location":"FILE_STORAGE.html#example-6-directory-operations","title":"Example 6: Directory Operations","text":"<pre><code>from app.core.storage import storage\n\n# Create directory structure\nstorage().make_directory('uploads/2024/01/')\nstorage().make_directory('uploads/2024/02/')\n\n# List all files\nall_files = storage().files('uploads/')\n\n# List directories\ndirectories = storage().directories('uploads/')\n\n# Delete entire directory\nstorage().delete_directory('uploads/old/')\n</code></pre>"},{"location":"FILE_STORAGE.html#best-practices","title":"Best Practices","text":"<ol> <li> <p>Use Unique Filenames: Generate unique filenames to avoid conflicts    <pre><code>import uuid\nfilename = f\"{uuid.uuid4()}_{original_filename}\"\n</code></pre></p> </li> <li> <p>Organize by Structure: Use directory structure for organization    <pre><code>path = f\"uploads/{user_id}/{year}/{month}/{filename}\"\n</code></pre></p> </li> <li> <p>Validate File Types: Always validate file types before storing    <pre><code>ALLOWED_EXTENSIONS = {'jpg', 'png', 'pdf'}\nif file.filename.split('.')[-1] not in ALLOWED_EXTENSIONS:\n    raise ValueError(\"File type not allowed\")\n</code></pre></p> </li> <li> <p>Handle Errors: Always check return values    <pre><code>if not storage().put(path, content):\n    raise Exception(\"Failed to store file\")\n</code></pre></p> </li> <li> <p>Use Appropriate Driver: </p> </li> <li>Local for development</li> <li>S3 for production</li> <li> <p>FTP/SFTP for specific requirements</p> </li> <li> <p>Clean Up: Regularly clean up old files    <pre><code># Delete files older than 30 days\ncleanup_old_files('uploads/', days=30)\n</code></pre></p> </li> </ol>"},{"location":"FILE_STORAGE.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"FILE_STORAGE.html#file-not-found","title":"File Not Found","text":"<pre><code>if not storage().exists(path):\n    raise HTTPException(status_code=404, detail=\"File not found\")\n</code></pre>"},{"location":"FILE_STORAGE.html#permission-errors","title":"Permission Errors","text":"<p>Ensure storage directory has proper permissions: <pre><code>chmod -R 755 storage/\n</code></pre></p>"},{"location":"FILE_STORAGE.html#s3-connection-issues","title":"S3 Connection Issues","text":"<ul> <li>Verify AWS credentials</li> <li>Check bucket permissions</li> <li>Verify region settings</li> </ul>"},{"location":"FILE_STORAGE.html#large-files","title":"Large Files","text":"<p>For large files, consider streaming: <pre><code># For very large files, use chunked upload\nwith open('large_file.bin', 'rb') as f:\n    storage().put('large_file.bin', f.read())\n</code></pre></p>"},{"location":"FILE_STORAGE.html#additional-resources","title":"Additional Resources","text":"<ul> <li>PyFilesystem2 Documentation</li> <li>AWS S3 Documentation</li> <li>FastAPI File Uploads</li> </ul>"},{"location":"HTTP_CLIENT.html","title":"HTTP Client Guide","text":"<p>This guide explains how to use the Laravel-like HTTP client for making HTTP requests in this FastAPI boilerplate.</p>"},{"location":"HTTP_CLIENT.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Making Requests</li> <li>Request Data</li> <li>Headers</li> <li>Authentication</li> <li>Timeout</li> <li>Retries</li> <li>Error Handling</li> <li>Middleware</li> <li>Client Options</li> <li>Concurrent Requests</li> <li>Request Pooling</li> <li>Request Batching</li> <li>Macros</li> <li>Testing</li> </ol>"},{"location":"HTTP_CLIENT.html#introduction","title":"Introduction","text":"<p>The HTTP client provides a fluent, Laravel-like interface for making HTTP requests. It's built on top of <code>httpx</code> and supports both synchronous and asynchronous requests.</p>"},{"location":"HTTP_CLIENT.html#key-features","title":"Key Features","text":"<ul> <li>Fluent API: Chain methods for easy configuration</li> <li>Authentication: Basic auth, Bearer tokens</li> <li>Retry Logic: Automatic retries on failure</li> <li>Middleware: Custom request/response processing</li> <li>Concurrent Requests: Pool and batch multiple requests</li> <li>Testing Support: Fake responses and request recording</li> <li>Error Handling: Built-in error handling helpers</li> </ul>"},{"location":"HTTP_CLIENT.html#making-requests","title":"Making Requests","text":""},{"location":"HTTP_CLIENT.html#basic-get-request","title":"Basic GET Request","text":"<pre><code>from app.core.http import http\n\n# Simple GET request\nresponse = http().get('https://api.example.com/users')\ndata = response.json()\n</code></pre>"},{"location":"HTTP_CLIENT.html#post-request","title":"POST Request","text":"<pre><code># POST with JSON data\nresponse = http().post('https://api.example.com/posts', json={\n    'title': 'My Post',\n    'content': 'Post content'\n})\n\nif response.successful():\n    print(response.json())\n</code></pre>"},{"location":"HTTP_CLIENT.html#put-and-patch-requests","title":"PUT and PATCH Requests","text":"<pre><code># PUT request\nresponse = http().put('https://api.example.com/posts/1', json={\n    'title': 'Updated Title'\n})\n\n# PATCH request\nresponse = http().patch('https://api.example.com/posts/1', json={\n    'title': 'Patched Title'\n})\n</code></pre>"},{"location":"HTTP_CLIENT.html#delete-request","title":"DELETE Request","text":"<pre><code>response = http().delete('https://api.example.com/posts/1')\nif response.ok():\n    print(\"Post deleted\")\n</code></pre>"},{"location":"HTTP_CLIENT.html#request-data","title":"Request Data","text":""},{"location":"HTTP_CLIENT.html#json-data","title":"JSON Data","text":"<pre><code>response = http().post('https://api.example.com/posts', json={\n    'title': 'My Post',\n    'content': 'Content here'\n})\n</code></pre>"},{"location":"HTTP_CLIENT.html#form-data","title":"Form Data","text":"<pre><code>response = http().post('https://api.example.com/posts', data={\n    'title': 'My Post',\n    'content': 'Content here'\n})\n</code></pre>"},{"location":"HTTP_CLIENT.html#query-parameters","title":"Query Parameters","text":"<pre><code>response = http().get('https://api.example.com/posts', params={\n    'page': 1,\n    'per_page': 10\n})\n</code></pre>"},{"location":"HTTP_CLIENT.html#files","title":"Files","text":"<pre><code>with open('image.jpg', 'rb') as f:\n    response = http().post('https://api.example.com/upload', files={\n        'file': ('image.jpg', f, 'image/jpeg')\n    })\n</code></pre>"},{"location":"HTTP_CLIENT.html#headers","title":"Headers","text":""},{"location":"HTTP_CLIENT.html#setting-headers","title":"Setting Headers","text":"<pre><code># Single header\nresponse = http().with_header('X-Custom-Header', 'value').get('https://api.example.com')\n\n# Multiple headers\nresponse = http().with_headers({\n    'X-Custom-Header': 'value',\n    'X-Another-Header': 'another-value'\n}).get('https://api.example.com')\n</code></pre>"},{"location":"HTTP_CLIENT.html#default-headers","title":"Default Headers","text":"<pre><code># Set headers that apply to all requests\nhttp_instance = http().with_headers({\n    'User-Agent': 'MyApp/1.0',\n    'Accept': 'application/json'\n})\n\nresponse = http_instance.get('https://api.example.com/users')\n</code></pre>"},{"location":"HTTP_CLIENT.html#authentication","title":"Authentication","text":""},{"location":"HTTP_CLIENT.html#bearer-token","title":"Bearer Token","text":"<pre><code>response = http().with_token('your-token-here').get('https://api.example.com/users')\n</code></pre>"},{"location":"HTTP_CLIENT.html#basic-authentication","title":"Basic Authentication","text":"<pre><code>response = http().with_basic_auth('username', 'password').get('https://api.example.com/users')\n</code></pre>"},{"location":"HTTP_CLIENT.html#custom-authentication-header","title":"Custom Authentication Header","text":"<pre><code>response = http().with_header('Authorization', 'Custom token-here').get('https://api.example.com')\n</code></pre>"},{"location":"HTTP_CLIENT.html#timeout","title":"Timeout","text":""},{"location":"HTTP_CLIENT.html#setting-timeout","title":"Setting Timeout","text":"<pre><code># 5 second timeout\nresponse = http().timeout(5.0).get('https://api.example.com/users')\n\n# 30 second timeout\nresponse = http().timeout(30.0).post('https://api.example.com/posts', json=data)\n</code></pre>"},{"location":"HTTP_CLIENT.html#retries","title":"Retries","text":""},{"location":"HTTP_CLIENT.html#automatic-retries","title":"Automatic Retries","text":"<pre><code># Retry 3 times on failure\nresponse = http().retry(3).get('https://api.example.com/users')\n\n# Retry on specific status codes\nresponse = http().retry(3, retry_on=[500, 502, 503, 504]).get('https://api.example.com/users')\n</code></pre>"},{"location":"HTTP_CLIENT.html#retry-logic","title":"Retry Logic","text":"<p>By default, retries occur on: - Network errors - HTTP 500, 502, 503, 504 status codes</p>"},{"location":"HTTP_CLIENT.html#error-handling","title":"Error Handling","text":""},{"location":"HTTP_CLIENT.html#check-response-status","title":"Check Response Status","text":"<pre><code>response = http().get('https://api.example.com/users')\n\nif response.successful():\n    data = response.json()\nelif response.client_error():\n    print(f\"Client error: {response.status()}\")\nelif response.server_error():\n    print(f\"Server error: {response.status()}\")\n</code></pre>"},{"location":"HTTP_CLIENT.html#throw-on-error","title":"Throw on Error","text":"<pre><code>try:\n    response = http().get('https://api.example.com/users').throw()\n    data = response.json()\nexcept Exception as e:\n    print(f\"Request failed: {e}\")\n</code></pre>"},{"location":"HTTP_CLIENT.html#error-callback","title":"Error Callback","text":"<pre><code>response = http().get('https://api.example.com/users').on_error(\n    lambda r: print(f\"Error: {r.status_code}\")\n)\n</code></pre>"},{"location":"HTTP_CLIENT.html#response-helpers","title":"Response Helpers","text":"<pre><code>response = http().get('https://api.example.com/users')\n\n# Check status\nresponse.ok()           # True if 200\nresponse.successful()  # True if 2xx\nresponse.failed()       # True if 4xx or 5xx\nresponse.client_error() # True if 4xx\nresponse.server_error() # True if 5xx\n\n# Get data\ndata = response.json()  # Parse JSON\ntext = response.text()  # Get text\nbody = response.body()  # Get raw bytes\n\n# Get headers\nheaders = response.headers()\nheader = response.header('Content-Type')\n</code></pre>"},{"location":"HTTP_CLIENT.html#middleware","title":"Middleware","text":""},{"location":"HTTP_CLIENT.html#creating-middleware","title":"Creating Middleware","text":"<pre><code>def logging_middleware(request):\n    \"\"\"Log all requests.\"\"\"\n    print(f\"Making request: {request.method} {request.url}\")\n    return request\n\ndef auth_middleware(request):\n    \"\"\"Add authentication header.\"\"\"\n    request.headers['Authorization'] = 'Bearer token'\n    return request\n\n# Use middleware\nresponse = http().with_middleware(logging_middleware).get('https://api.example.com')\n</code></pre>"},{"location":"HTTP_CLIENT.html#multiple-middleware","title":"Multiple Middleware","text":"<pre><code>response = http()\\\n    .with_middleware(logging_middleware)\\\n    .with_middleware(auth_middleware)\\\n    .get('https://api.example.com')\n</code></pre>"},{"location":"HTTP_CLIENT.html#client-options","title":"Client Options","text":""},{"location":"HTTP_CLIENT.html#ssl-verification","title":"SSL Verification","text":"<pre><code># Disable SSL verification (not recommended for production)\nresponse = http().without_verifying().get('https://api.example.com')\n</code></pre>"},{"location":"HTTP_CLIENT.html#redirects","title":"Redirects","text":"<pre><code># Don't follow redirects\nresponse = http().without_redirecting().get('https://api.example.com')\n</code></pre>"},{"location":"HTTP_CLIENT.html#custom-options","title":"Custom Options","text":"<pre><code>response = http().with_options(\n    verify=False,\n    follow_redirects=False,\n    timeout=30.0\n).get('https://api.example.com')\n</code></pre>"},{"location":"HTTP_CLIENT.html#concurrent-requests","title":"Concurrent Requests","text":""},{"location":"HTTP_CLIENT.html#async-requests","title":"Async Requests","text":"<pre><code>import asyncio\n\nasync def fetch_users():\n    response = await http().async_get('https://api.example.com/users')\n    return response.json()\n\nasync def fetch_posts():\n    response = await http().async_get('https://api.example.com/posts')\n    return response.json()\n\n# Run concurrently\nasync def main():\n    users, posts = await asyncio.gather(\n        fetch_users(),\n        fetch_posts()\n    )\n    return users, posts\n</code></pre>"},{"location":"HTTP_CLIENT.html#request-pooling","title":"Request Pooling","text":""},{"location":"HTTP_CLIENT.html#connection-pool","title":"Connection Pool","text":"<pre><code># Execute multiple requests concurrently\nrequests = [\n    lambda: http().get('https://api.example.com/users'),\n    lambda: http().get('https://api.example.com/posts'),\n    lambda: http().get('https://api.example.com/comments'),\n]\n\nresponses = http().pool(requests)\nfor response in responses:\n    print(response.json())\n</code></pre>"},{"location":"HTTP_CLIENT.html#async-pool","title":"Async Pool","text":"<pre><code>async def fetch_data():\n    requests = [\n        lambda: http().async_get('https://api.example.com/users'),\n        lambda: http().async_get('https://api.example.com/posts'),\n    ]\n\n    responses = await http().async_pool(requests)\n    return [r.json() for r in responses]\n</code></pre>"},{"location":"HTTP_CLIENT.html#request-batching","title":"Request Batching","text":""},{"location":"HTTP_CLIENT.html#batch-requests","title":"Batch Requests","text":"<pre><code>requests = [\n    {'method': 'GET', 'url': 'https://api.example.com/users'},\n    {'method': 'GET', 'url': 'https://api.example.com/posts'},\n    {'method': 'POST', 'url': 'https://api.example.com/posts', 'json': {'title': 'New Post'}},\n]\n\nresponses = http().batch(requests)\nfor response in responses:\n    print(response.json())\n</code></pre>"},{"location":"HTTP_CLIENT.html#async-batch","title":"Async Batch","text":"<pre><code>async def batch_requests():\n    requests = [\n        {'method': 'GET', 'url': 'https://api.example.com/users'},\n        {'method': 'GET', 'url': 'https://api.example.com/posts'},\n    ]\n\n    responses = await http().async_batch(requests)\n    return [r.json() for r in responses]\n</code></pre>"},{"location":"HTTP_CLIENT.html#macros","title":"Macros","text":""},{"location":"HTTP_CLIENT.html#defining-macros","title":"Defining Macros","text":"<pre><code>from app.core.http import macro\n\ndef github_api():\n    \"\"\"GitHub API macro.\"\"\"\n    return http().base_url('https://api.github.com').with_header('Accept', 'application/vnd.github.v3+json')\n\nmacro('github', github_api)\n\n# Use macro\nresponse = http().github().get('/users/octocat')\n</code></pre>"},{"location":"HTTP_CLIENT.html#using-macros","title":"Using Macros","text":"<pre><code># After defining macro\nresponse = http().github().with_token('token').get('/user')\n</code></pre>"},{"location":"HTTP_CLIENT.html#testing","title":"Testing","text":""},{"location":"HTTP_CLIENT.html#faking-responses","title":"Faking Responses","text":"<pre><code># Fake responses for testing\nhttp().fake([\n    {\n        'url': 'https://api.example.com/users',\n        'method': 'GET',\n        'status': 200,\n        'json': {'id': 1, 'name': 'John'}\n    },\n    {\n        'url': 'https://api.example.com/posts',\n        'method': 'GET',\n        'status': 200,\n        'json': [{'id': 1, 'title': 'Post 1'}]\n    }\n])\n\n# Now requests return fake responses\nresponse = http().get('https://api.example.com/users')\nassert response.json() == {'id': 1, 'name': 'John'}\n</code></pre>"},{"location":"HTTP_CLIENT.html#recording-requests","title":"Recording Requests","text":"<pre><code># Record all requests\nhttp().record()\n\nresponse = http().get('https://api.example.com/users')\nresponse = http().post('https://api.example.com/posts', json={'title': 'Test'})\n\n# Get recorded requests\nrecorded = http().recorded()\nassert len(recorded) == 2\n</code></pre>"},{"location":"HTTP_CLIENT.html#inspecting-requests","title":"Inspecting Requests","text":"<pre><code>http().record()\n\nhttp().get('https://api.example.com/users')\n\n# Check if request was sent\nassert http().assert_sent()\n\n# Check with callback\nassert http().assert_sent(\n    lambda req: req.url == 'https://api.example.com/users'\n)\n</code></pre>"},{"location":"HTTP_CLIENT.html#preventing-stray-requests","title":"Preventing Stray Requests","text":"<pre><code># Prevent unexpected requests during testing\nhttp().prevent_stray_requests()\n\n# Only faked requests are allowed\nhttp().fake([\n    {'url': 'https://api.example.com/users', 'method': 'GET', 'status': 200}\n])\n\n# This will work\nresponse = http().get('https://api.example.com/users')\n\n# This will raise exception\n# response = http().get('https://api.example.com/other')  # Exception!\n</code></pre>"},{"location":"HTTP_CLIENT.html#base-url","title":"Base URL","text":""},{"location":"HTTP_CLIENT.html#setting-base-url","title":"Setting Base URL","text":"<pre><code># Set base URL for all requests\napi = http().base_url('https://api.example.com')\n\n# Now use relative URLs\nresponse = api.get('/users')\nresponse = api.post('/posts', json={'title': 'New Post'})\n</code></pre>"},{"location":"HTTP_CLIENT.html#context-manager","title":"Context Manager","text":""},{"location":"HTTP_CLIENT.html#using-context-manager","title":"Using Context Manager","text":"<pre><code># Automatic cleanup\nwith http().base_url('https://api.example.com') as client:\n    response = client.get('/users')\n    data = response.json()\n</code></pre>"},{"location":"HTTP_CLIENT.html#async-context-manager","title":"Async Context Manager","text":"<pre><code>async with http().base_url('https://api.example.com') as client:\n    response = await client.async_get('/users')\n    data = response.json()\n</code></pre>"},{"location":"HTTP_CLIENT.html#examples","title":"Examples","text":""},{"location":"HTTP_CLIENT.html#example-1-api-client","title":"Example 1: API Client","text":"<pre><code>class ApiClient:\n    def __init__(self, base_url: str, token: str):\n        self.client = http().base_url(base_url).with_token(token)\n\n    def get_users(self):\n        return self.client.get('/users').json()\n\n    def create_user(self, data: dict):\n        return self.client.post('/users', json=data).json()\n\n    def update_user(self, user_id: int, data: dict):\n        return self.client.put(f'/users/{user_id}', json=data).json()\n\n    def delete_user(self, user_id: int):\n        return self.client.delete(f'/users/{user_id}').ok()\n\n# Usage\nclient = ApiClient('https://api.example.com', 'token')\nusers = client.get_users()\n</code></pre>"},{"location":"HTTP_CLIENT.html#example-2-retry-with-exponential-backoff","title":"Example 2: Retry with Exponential Backoff","text":"<pre><code>import time\nimport random\n\ndef retry_middleware(request):\n    \"\"\"Custom retry with exponential backoff.\"\"\"\n    # Implementation would go here\n    return request\n\nresponse = http()\\\n    .retry(3)\\\n    .with_middleware(retry_middleware)\\\n    .get('https://api.example.com/users')\n</code></pre>"},{"location":"HTTP_CLIENT.html#example-3-batch-processing","title":"Example 3: Batch Processing","text":"<pre><code># Fetch multiple resources concurrently\nuser_ids = [1, 2, 3, 4, 5]\n\nrequests = [\n    {'method': 'GET', 'url': f'https://api.example.com/users/{uid}'}\n    for uid in user_ids\n]\n\nresponses = http().batch(requests)\nusers = [r.json() for r in responses if r.successful()]\n</code></pre>"},{"location":"HTTP_CLIENT.html#example-4-testing","title":"Example 4: Testing","text":"<pre><code>def test_user_api():\n    # Fake API responses\n    http().fake([\n        {\n            'url': 'https://api.example.com/users',\n            'method': 'GET',\n            'status': 200,\n            'json': [{'id': 1, 'name': 'John'}]\n        },\n        {\n            'url': 'https://api.example.com/users',\n            'method': 'POST',\n            'status': 201,\n            'json': {'id': 2, 'name': 'Jane'}\n        }\n    ])\n\n    # Test GET\n    response = http().get('https://api.example.com/users')\n    assert response.successful()\n    assert len(response.json()) == 1\n\n    # Test POST\n    response = http().post('https://api.example.com/users', json={'name': 'Jane'})\n    assert response.status() == 201\n</code></pre>"},{"location":"HTTP_CLIENT.html#best-practices","title":"Best Practices","text":"<ol> <li>Use Base URLs: Set base URL for API clients</li> <li>Handle Errors: Always check response status</li> <li>Use Retries: Enable retries for unreliable APIs</li> <li>Set Timeouts: Always set appropriate timeouts</li> <li>Use Async: Use async methods for concurrent requests</li> <li>Test with Fakes: Use fake responses in tests</li> <li>Record Requests: Use recording to verify API calls in tests</li> </ol>"},{"location":"HTTP_CLIENT.html#additional-resources","title":"Additional Resources","text":"<ul> <li>httpx Documentation</li> <li>Laravel HTTP Client</li> </ul>"},{"location":"LICENSE.html","title":"License","text":"<p>MIT License</p> <p>Copyright (c) 2025 Ashwani Garg</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"MIDDLEWARE.html","title":"Middleware","text":"<p>Middleware components and request processing for the FastAPI Boilerplate.</p>"},{"location":"MIDDLEWARE.html#cors-middleware","title":"CORS Middleware","text":""},{"location":"MIDDLEWARE.html#cross-origin-resource-sharing","title":"Cross-Origin Resource Sharing","text":"<pre><code>from fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp = FastAPI()\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],  # In production, replace with specific origins\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n</code></pre>"},{"location":"MIDDLEWARE.html#authentication-middleware","title":"Authentication Middleware","text":""},{"location":"MIDDLEWARE.html#jwt-authentication","title":"JWT Authentication","text":"<pre><code>from fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer\nfrom jose import JWTError, jwt\nfrom datetime import datetime, timedelta\nfrom typing import Optional\n\noauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"token\")\n\nasync def get_current_user(token: str = Depends(oauth2_scheme)):\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        email: str = payload.get(\"sub\")\n        if email is None:\n            raise credentials_exception\n    except JWTError:\n        raise credentials_exception\n    return email\n</code></pre>"},{"location":"MIDDLEWARE.html#logging-middleware","title":"Logging Middleware","text":""},{"location":"MIDDLEWARE.html#request-logging","title":"Request Logging","text":"<pre><code>from fastapi import FastAPI, Request\nfrom fastapi.middleware.base import BaseHTTPMiddleware\nimport time\nimport logging\n\nlogger = logging.getLogger(__name__)\n\nclass LoggingMiddleware(BaseHTTPMiddleware):\n    async def dispatch(self, request: Request, call_next):\n        start_time = time.time()\n        response = await call_next(request)\n        process_time = time.time() - start_time\n\n        logger.info(\n            f\"{request.method} {request.url.path} \"\n            f\"status_code={response.status_code} \"\n            f\"process_time={process_time:.4f}s\"\n        )\n        return response\n\napp = FastAPI()\napp.add_middleware(LoggingMiddleware)\n</code></pre>"},{"location":"MIDDLEWARE.html#error-handling-middleware","title":"Error Handling Middleware","text":""},{"location":"MIDDLEWARE.html#global-exception-handler","title":"Global Exception Handler","text":"<pre><code>from fastapi import FastAPI, Request\nfrom fastapi.responses import JSONResponse\nfrom fastapi.exceptions import RequestValidationError\nfrom starlette.exceptions import HTTPException as StarletteHTTPException\nimport logging\n\nlogger = logging.getLogger(__name__)\n\napp = FastAPI()\n\n@app.exception_handler(StarletteHTTPException)\nasync def http_exception_handler(request: Request, exc: StarletteHTTPException):\n    logger.error(f\"HTTP Exception: {exc.detail}\")\n    return JSONResponse(\n        status_code=exc.status_code,\n        content={\"detail\": exc.detail},\n    )\n\n@app.exception_handler(RequestValidationError)\nasync def validation_exception_handler(request: Request, exc: RequestValidationError):\n    logger.error(f\"Validation Error: {exc.errors()}\")\n    return JSONResponse(\n        status_code=422,\n        content={\"detail\": exc.errors()},\n    )\n\n@app.exception_handler(Exception)\nasync def general_exception_handler(request: Request, exc: Exception):\n    logger.error(f\"Unexpected Error: {str(exc)}\")\n    return JSONResponse(\n        status_code=500,\n        content={\"detail\": \"Internal Server Error\"},\n    )\n</code></pre>"},{"location":"MIDDLEWARE.html#rate-limiting-middleware","title":"Rate Limiting Middleware","text":""},{"location":"MIDDLEWARE.html#request-rate-limiting","title":"Request Rate Limiting","text":"<pre><code>from fastapi import FastAPI, Request\nfrom fastapi.middleware.base import BaseHTTPMiddleware\nfrom starlette.responses import JSONResponse\nimport time\nfrom collections import defaultdict\n\nclass RateLimitMiddleware(BaseHTTPMiddleware):\n    def __init__(self, app: FastAPI, limit: int = 100, window: int = 60):\n        super().__init__(app)\n        self.limit = limit\n        self.window = window\n        self.requests = defaultdict(list)\n\n    async def dispatch(self, request: Request, call_next):\n        client_ip = request.client.host\n        current_time = time.time()\n\n        # Clean up old requests\n        self.requests[client_ip] = [\n            t for t in self.requests[client_ip]\n            if current_time - t &lt; self.window\n        ]\n\n        # Check rate limit\n        if len(self.requests[client_ip]) &gt;= self.limit:\n            return JSONResponse(\n                status_code=429,\n                content={\"detail\": \"Too many requests\"},\n            )\n\n        # Add current request\n        self.requests[client_ip].append(current_time)\n\n        return await call_next(request)\n\napp = FastAPI()\napp.add_middleware(RateLimitMiddleware, limit=100, window=60)\n</code></pre>"},{"location":"MODELS.html","title":"Models","text":"<p>Data models and relationships for the FastAPI Boilerplate.</p>"},{"location":"MODELS.html#base-model","title":"Base Model","text":""},{"location":"MODELS.html#common-fields","title":"Common Fields","text":"<pre><code>from sqlalchemy import Column, Integer, DateTime\nfrom sqlalchemy.sql import func\nfrom app.core.database import Base\n\nclass BaseModel(Base):\n    __abstract__ = True\n\n    id = Column(Integer, primary_key=True, index=True)\n    created_at = Column(DateTime, default=func.now())\n    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())\n</code></pre>"},{"location":"MODELS.html#user-model","title":"User Model","text":""},{"location":"MODELS.html#user-fields","title":"User Fields","text":"<pre><code>from sqlalchemy import Column, String, Boolean, DateTime\nfrom app.core.database import BaseModel\n\nclass User(BaseModel):\n    __tablename__ = \"users\"\n\n    email = Column(String, unique=True, index=True)\n    hashed_password = Column(String)\n    full_name = Column(String)\n    is_active = Column(Boolean, default=True)\n    is_superuser = Column(Boolean, default=False)\n    last_login = Column(DateTime, nullable=True)\n</code></pre>"},{"location":"MODELS.html#post-model","title":"Post Model","text":""},{"location":"MODELS.html#post-fields","title":"Post Fields","text":"<pre><code>from sqlalchemy import Column, String, Text, ForeignKey\nfrom sqlalchemy.orm import relationship\nfrom app.core.database import BaseModel\n\nclass Post(BaseModel):\n    __tablename__ = \"posts\"\n\n    title = Column(String, index=True)\n    content = Column(Text)\n    author_id = Column(Integer, ForeignKey(\"users.id\"))\n\n    author = relationship(\"User\", back_populates=\"posts\")\n</code></pre>"},{"location":"MODELS.html#model-relationships","title":"Model Relationships","text":""},{"location":"MODELS.html#one-to-many","title":"One-to-Many","text":"<pre><code># User model\nclass User(BaseModel):\n    # ... other fields ...\n    posts = relationship(\"Post\", back_populates=\"author\")\n\n# Post model\nclass Post(BaseModel):\n    # ... other fields ...\n    author_id = Column(Integer, ForeignKey(\"users.id\"))\n    author = relationship(\"User\", back_populates=\"posts\")\n</code></pre>"},{"location":"MODELS.html#many-to-many","title":"Many-to-Many","text":"<pre><code># Association table\npost_tags = Table(\n    \"post_tags\",\n    Base.metadata,\n    Column(\"post_id\", Integer, ForeignKey(\"posts.id\")),\n    Column(\"tag_id\", Integer, ForeignKey(\"tags.id\"))\n)\n\n# Post model\nclass Post(BaseModel):\n    # ... other fields ...\n    tags = relationship(\"Tag\", secondary=post_tags, back_populates=\"posts\")\n\n# Tag model\nclass Tag(BaseModel):\n    __tablename__ = \"tags\"\n    name = Column(String, unique=True)\n    posts = relationship(\"Post\", secondary=post_tags, back_populates=\"tags\")\n</code></pre>"},{"location":"MODELS.html#model-methods","title":"Model Methods","text":""},{"location":"MODELS.html#common-methods","title":"Common Methods","text":"<pre><code>from sqlalchemy.orm import Session\nfrom typing import Optional\n\nclass User(BaseModel):\n    # ... fields ...\n\n    @classmethod\n    def get_by_email(cls, db: Session, email: str) -&gt; Optional[\"User\"]:\n        return db.query(cls).filter(cls.email == email).first()\n\n    @classmethod\n    def get_by_id(cls, db: Session, id: int) -&gt; Optional[\"User\"]:\n        return db.query(cls).filter(cls.id == id).first()\n\n    def update(self, db: Session, **kwargs):\n        for key, value in kwargs.items():\n            setattr(self, key, value)\n        db.commit()\n        db.refresh(self)\n        return self\n</code></pre>"},{"location":"REDIS_USAGE.html","title":"Redis Usage Guide","text":"<p>This guide explains how to use Redis for both caching and message queue (Celery) in this FastAPI boilerplate.</p>"},{"location":"REDIS_USAGE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Redis Configuration</li> <li>Caching</li> <li>Message Queue (Celery)</li> <li>Examples</li> </ol>"},{"location":"REDIS_USAGE.html#redis-configuration","title":"Redis Configuration","text":""},{"location":"REDIS_USAGE.html#environment-variables","title":"Environment Variables","text":"<p>Configure Redis in your <code>.env</code> file:</p> <pre><code># Redis Configuration\nREDIS_HOST=localhost\nREDIS_PORT=6379\nREDIS_DB=0\nREDIS_PASSWORD=  # Optional, leave empty if no password\n\n# Cache Configuration\nCACHE_PREFIX=cache:\nCACHE_DEFAULT_TTL=3600  # Default TTL in seconds (1 hour)\nCACHE_SERIALIZER=json   # Options: json, pickle\n</code></pre>"},{"location":"REDIS_USAGE.html#connection","title":"Connection","text":"<p>Redis is used for: - Caching: Store frequently accessed data - Message Queue: Background task processing with Celery</p>"},{"location":"REDIS_USAGE.html#caching","title":"Caching","text":"<p>The boilerplate provides a Laravel-like caching interface through <code>app.core.cache</code>.</p>"},{"location":"REDIS_USAGE.html#basic-usage","title":"Basic Usage","text":"<pre><code>from app.core.cache import cache\n\n# Store a value\ncache().put(\"key\", \"value\", ttl=3600)  # TTL in seconds\n\n# Get a value\nvalue = cache().get(\"key\")\nvalue = cache().get(\"key\", default=\"default_value\")  # With default\n\n# Check if key exists\nif cache().has(\"key\"):\n    print(\"Key exists\")\n\n# Delete a value\ncache().forget(\"key\")\n\n# Clear all cache\ncache().flush()\n</code></pre>"},{"location":"REDIS_USAGE.html#remember-pattern-cache-aside","title":"Remember Pattern (Cache-Aside)","text":"<p>The <code>remember</code> method is very useful - it gets from cache or executes a callback:</p> <pre><code>from app.core.cache import cache\nfrom app.models.user import User\n\n# Get user from cache, or fetch from DB if not cached\nuser = cache().remember(\n    f\"user:{user_id}\",\n    ttl=300,  # 5 minutes\n    callback=lambda: User.get(db, id=user_id)\n)\n</code></pre>"},{"location":"REDIS_USAGE.html#advanced-operations","title":"Advanced Operations","text":"<pre><code># Store forever (no expiration)\ncache().forever(\"key\", \"value\")\n\n# Add only if key doesn't exist\ncache().add(\"key\", \"value\", ttl=3600)\n\n# Get and delete (pull)\nvalue = cache().pull(\"key\", default=None)\n\n# Increment/Decrement numeric values\ncache().increment(\"counter\", amount=1)\ncache().decrement(\"counter\", amount=1)\n</code></pre>"},{"location":"REDIS_USAGE.html#tagged-cache","title":"Tagged Cache","text":"<p>Group related cache keys:</p> <pre><code># Create tagged cache\ntagged = cache().tags(\"users\", \"profile\")\n\n# Operations use tags automatically\ntagged.put(\"user:1\", user_data, ttl=3600)\ntagged.get(\"user:1\")\ntagged.flush()  # Flush all keys with these tags\n</code></pre>"},{"location":"REDIS_USAGE.html#real-world-example","title":"Real-World Example","text":"<pre><code>from fastapi import Depends\nfrom app.core.cache import cache\nfrom app.core.database import get_db\nfrom app.models.user import User\n\n@router.get(\"/users/{user_id}\")\ndef get_user(user_id: int, db: Session = Depends(get_db)):\n    # Try cache first\n    cache_key = f\"user:{user_id}\"\n    user = cache().get(cache_key)\n\n    if user is None:\n        # Cache miss - fetch from database\n        user = User.get(db, id=user_id)\n        if user:\n            # Store in cache for 5 minutes\n            cache().put(cache_key, user, ttl=300)\n\n    return user\n\n@router.put(\"/users/{user_id}\")\ndef update_user(user_id: int, db: Session = Depends(get_db)):\n    user = User.update(db, ...)\n\n    # Invalidate cache after update\n    cache().forget(f\"user:{user_id}\")\n\n    return user\n</code></pre>"},{"location":"REDIS_USAGE.html#message-queue-celery","title":"Message Queue (Celery)","text":"<p>Celery uses Redis as both the message broker and result backend.</p>"},{"location":"REDIS_USAGE.html#configuration","title":"Configuration","text":"<p>Celery automatically uses Redis configuration from your <code>.env</code>:</p> <pre><code># Celery will use Redis settings automatically\n# Or you can override:\nCELERY_BROKER_URL=redis://localhost:6379/0\nCELERY_RESULT_BACKEND=redis://localhost:6379/0\n</code></pre>"},{"location":"REDIS_USAGE.html#creating-tasks","title":"Creating Tasks","text":"<p>Tasks are defined in <code>app/workers/tasks.py</code>:</p> <pre><code>from app.core.celery_app import celery_app\n\n@celery_app.task(name=\"send_email\")\ndef send_email_task(email: str, subject: str, body: str):\n    \"\"\"Send email asynchronously.\"\"\"\n    # Your email sending logic here\n    print(f\"Sending email to {email}\")\n    return {\"status\": \"sent\"}\n\n@celery_app.task(name=\"process_data\")\ndef process_data_task(data_id: int):\n    \"\"\"Process data asynchronously.\"\"\"\n    # Your processing logic here\n    return {\"processed\": data_id}\n</code></pre>"},{"location":"REDIS_USAGE.html#calling-tasks","title":"Calling Tasks","text":"<pre><code>from app.workers.tasks import send_email_task, process_data_task\n\n# Call task asynchronously\nresult = send_email_task.delay(\"user@example.com\", \"Subject\", \"Body\")\n\n# Get task result (blocking)\ntask_result = result.get(timeout=10)\n\n# Call task with ETA (execute at specific time)\nfrom datetime import datetime, timedelta\nsend_email_task.apply_async(\n    args=[\"user@example.com\", \"Subject\", \"Body\"],\n    eta=datetime.utcnow() + timedelta(hours=1)\n)\n\n# Call task with countdown (execute after delay)\nsend_email_task.apply_async(\n    args=[\"user@example.com\", \"Subject\", \"Body\"],\n    countdown=300  # Execute after 5 minutes\n)\n</code></pre>"},{"location":"REDIS_USAGE.html#running-celery-worker","title":"Running Celery Worker","text":"<p>Start the Celery worker:</p> <pre><code>celery -A app.core.celery_app worker --loglevel=info\n</code></pre> <p>For development with auto-reload:</p> <pre><code>celery -A app.core.celery_app worker --loglevel=info --reload\n</code></pre>"},{"location":"REDIS_USAGE.html#monitoring-with-flower","title":"Monitoring with Flower","text":"<p>Flower is included for monitoring Celery tasks:</p> <pre><code>celery -A app.core.celery_app flower\n</code></pre> <p>Access at: http://localhost:5555</p>"},{"location":"REDIS_USAGE.html#example-background-email-sending","title":"Example: Background Email Sending","text":"<pre><code># In your endpoint\nfrom app.workers.tasks import send_welcome_email\n\n@router.post(\"/register\")\ndef register(user_data: UserCreate):\n    user = User.create(db, obj_in=user_data)\n\n    # Send welcome email in background\n    send_welcome_email.delay(user.id)\n\n    return user\n</code></pre>"},{"location":"REDIS_USAGE.html#examples","title":"Examples","text":""},{"location":"REDIS_USAGE.html#example-1-caching-database-queries","title":"Example 1: Caching Database Queries","text":"<pre><code>from app.core.cache import cache\nfrom app.models.user import User\n\ndef get_active_users(db: Session):\n    \"\"\"Get active users with caching.\"\"\"\n    return cache().remember(\n        \"users:active\",\n        ttl=600,  # 10 minutes\n        callback=lambda: User.get_multi(db, skip=0, limit=100)\n    )\n</code></pre>"},{"location":"REDIS_USAGE.html#example-2-cache-invalidation-on-update","title":"Example 2: Cache Invalidation on Update","text":"<pre><code>@router.put(\"/users/{user_id}\")\ndef update_user(user_id: int, db: Session = Depends(get_db)):\n    user = User.update(db, ...)\n\n    # Invalidate related cache\n    cache().forget(f\"user:{user_id}\")\n    cache().forget(\"users:active\")  # Invalidate list cache\n\n    return user\n</code></pre>"},{"location":"REDIS_USAGE.html#example-3-using-cache-tags","title":"Example 3: Using Cache Tags","text":"<pre><code># Cache with tags\ntagged = cache().tags(\"users\")\ntagged.put(\"profile:1\", profile_data, ttl=3600)\ntagged.put(\"settings:1\", settings_data, ttl=3600)\n\n# Flush all user-related cache\ntagged.flush()  # Removes both profile:1 and settings:1\n</code></pre>"},{"location":"REDIS_USAGE.html#example-4-background-task-with-retry","title":"Example 4: Background Task with Retry","text":"<pre><code>from celery import Task\nfrom app.core.celery_app import celery_app\n\nclass RetryTask(Task):\n    \"\"\"Task with automatic retry on failure.\"\"\"\n    autoretry_for = (Exception,)\n    retry_kwargs = {'max_retries': 3, 'countdown': 60}\n\n@celery_app.task(base=RetryTask, name=\"process_payment\")\ndef process_payment_task(payment_id: int):\n    \"\"\"Process payment with automatic retry.\"\"\"\n    # Your payment processing logic\n    pass\n</code></pre>"},{"location":"REDIS_USAGE.html#best-practices","title":"Best Practices","text":"<ol> <li>Cache Keys: Use descriptive, namespaced keys (e.g., <code>user:123</code>, <code>users:active</code>)</li> <li>TTL: Set appropriate TTL based on data freshness requirements</li> <li>Cache Invalidation: Always invalidate cache on data updates</li> <li>Error Handling: Cache failures shouldn't break your application</li> <li>Monitoring: Use Flower to monitor Celery tasks</li> <li>Connection Pooling: Redis connection pooling is handled automatically</li> </ol>"},{"location":"REDIS_USAGE.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"REDIS_USAGE.html#redis-connection-error","title":"Redis Connection Error","text":"<pre><code># Check Redis connection\nfrom app.core.cache import cache\ntry:\n    cache().put(\"test\", \"value\")\n    print(\"Redis connected!\")\nexcept Exception as e:\n    print(f\"Redis error: {e}\")\n</code></pre>"},{"location":"REDIS_USAGE.html#celery-not-processing-tasks","title":"Celery Not Processing Tasks","text":"<ol> <li>Check if Celery worker is running</li> <li>Verify Redis connection</li> <li>Check Celery logs for errors</li> <li>Ensure tasks are imported in <code>celery_app.py</code></li> </ol>"},{"location":"REDIS_USAGE.html#additional-resources","title":"Additional Resources","text":"<ul> <li>Redis Documentation</li> <li>Celery Documentation</li> <li>FastAPI Background Tasks</li> </ul>"},{"location":"REQUIREMENTS.html","title":"Requirements","text":"<p>System requirements and dependencies for the FastAPI Boilerplate project.</p>"},{"location":"REQUIREMENTS.html#system-requirements","title":"System Requirements","text":""},{"location":"REQUIREMENTS.html#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>Python 3.8 or higher</li> <li>MySQL 5.7 or higher (with mysqlclient package)</li> <li>PostgreSQL 12+ (alternative database with psycopg2-binary package)</li> <li>Redis (for caching and background tasks)</li> <li>4GB RAM minimum</li> <li>2GB free disk space</li> </ul>"},{"location":"REQUIREMENTS.html#recommended-requirements","title":"Recommended Requirements","text":"<ul> <li>Python 3.10 or higher</li> <li>MySQL 8.0 or higher</li> <li>Redis 6.0 or higher</li> <li>8GB RAM or more</li> <li>SSD storage</li> </ul>"},{"location":"REQUIREMENTS.html#core-dependencies","title":"Core Dependencies","text":""},{"location":"REQUIREMENTS.html#main-packages","title":"Main Packages","text":"<pre><code>fastapi==0.109.2\nuvicorn==0.27.1\nsqlalchemy==2.0.27\npydantic==2.6.1\npython-jose==3.3.0\npasslib==1.7.4\npython-multipart==0.0.9\nalembic==1.13.1\ncelery==5.3.6\nredis==5.0.1\n# Database drivers (install one based on your database choice)\nmysqlclient==2.2.4  # For MySQL\npsycopg2-binary==2.9.10  # For PostgreSQL\n</code></pre>"},{"location":"REQUIREMENTS.html#development-dependencies","title":"Development Dependencies","text":"<pre><code>pytest==8.0.0\npytest-cov==4.1.0\nblack==24.1.1\nisort==5.13.2\nflake8==7.0.0\nmypy==1.8.0\npre-commit==3.6.0\n</code></pre>"},{"location":"REQUIREMENTS.html#optional-dependencies","title":"Optional Dependencies","text":""},{"location":"REQUIREMENTS.html#additional-features","title":"Additional Features","text":"<ul> <li>Email Support (SMTP)</li> <li>File Storage (AWS S3, Local)</li> <li>Monitoring (Prometheus, Grafana) - Optional (Requires <code>metrics</code> extra)</li> <li>Logging (ELK Stack)</li> <li>API Documentation (Swagger UI, ReDoc)</li> </ul>"},{"location":"REQUIREMENTS.html#compatibility","title":"Compatibility","text":""},{"location":"REQUIREMENTS.html#operating-systems","title":"Operating Systems","text":"<ul> <li>Linux (Ubuntu, Debian, CentOS)</li> <li>macOS</li> <li>Windows (with WSL recommended)</li> </ul>"},{"location":"REQUIREMENTS.html#database-support","title":"Database Support","text":"<ul> <li>MySQL 5.7+</li> <li>PostgreSQL 12+</li> <li>SQLite (development only) ```</li> </ul>"},{"location":"SCHEMAS.html","title":"Schemas","text":"<p>Pydantic models and data validation for the FastAPI Boilerplate.</p>"},{"location":"SCHEMAS.html#base-schema","title":"Base Schema","text":""},{"location":"SCHEMAS.html#common-fields","title":"Common Fields","text":"<pre><code>from pydantic import BaseModel\nfrom datetime import datetime\nfrom typing import Optional\n\nclass BaseSchema(BaseModel):\n    id: int\n    created_at: datetime\n    updated_at: datetime\n\n    class Config:\n        orm_mode = True\n</code></pre>"},{"location":"SCHEMAS.html#user-schemas","title":"User Schemas","text":""},{"location":"SCHEMAS.html#user-models","title":"User Models","text":"<pre><code>from pydantic import BaseModel, EmailStr, constr\nfrom typing import Optional\n\nclass UserBase(BaseModel):\n    email: EmailStr\n    full_name: Optional[str] = None\n\nclass UserCreate(UserBase):\n    password: constr(min_length=8)\n\nclass UserUpdate(UserBase):\n    password: Optional[constr(min_length=8)] = None\n\nclass UserInDB(UserBase):\n    id: int\n    is_active: bool\n    is_superuser: bool\n    hashed_password: str\n\nclass UserResponse(UserBase):\n    id: int\n    is_active: bool\n    is_superuser: bool\n\n    class Config:\n        orm_mode = True\n</code></pre>"},{"location":"SCHEMAS.html#post-schemas","title":"Post Schemas","text":""},{"location":"SCHEMAS.html#post-models","title":"Post Models","text":"<pre><code>from pydantic import BaseModel\nfrom typing import Optional\nfrom app.schemas.user import UserResponse\n\nclass PostBase(BaseModel):\n    title: str\n    content: Optional[str] = None\n\nclass PostCreate(PostBase):\n    pass\n\nclass PostUpdate(PostBase):\n    pass\n\nclass PostResponse(PostBase):\n    id: int\n    author_id: int\n    author: UserResponse\n\n    class Config:\n        orm_mode = True\n</code></pre>"},{"location":"SCHEMAS.html#token-schemas","title":"Token Schemas","text":""},{"location":"SCHEMAS.html#authentication-models","title":"Authentication Models","text":"<pre><code>from pydantic import BaseModel\n\nclass Token(BaseModel):\n    access_token: str\n    token_type: str\n\nclass TokenPayload(BaseModel):\n    sub: str\n    exp: int\n</code></pre>"},{"location":"SCHEMAS.html#data-validation","title":"Data Validation","text":""},{"location":"SCHEMAS.html#custom-validators","title":"Custom Validators","text":"<pre><code>from pydantic import BaseModel, validator\nimport re\n\nclass UserCreate(BaseModel):\n    email: str\n    password: str\n\n    @validator('password')\n    def password_strength(cls, v):\n        if len(v) &lt; 8:\n            raise ValueError('Password must be at least 8 characters')\n        if not re.search(r'[A-Z]', v):\n            raise ValueError('Password must contain at least one uppercase letter')\n        if not re.search(r'[a-z]', v):\n            raise ValueError('Password must contain at least one lowercase letter')\n        if not re.search(r'[0-9]', v):\n            raise ValueError('Password must contain at least one number')\n        return v\n\n    @validator('email')\n    def email_format(cls, v):\n        if not re.match(r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$', v):\n            raise ValueError('Invalid email format')\n        return v\n</code></pre>"},{"location":"SECURITY.html","title":"Security Guide","text":"<p>This guide covers security best practices and features in the FastAPI boilerplate.</p>"},{"location":"SECURITY.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Security Features</li> <li>Authentication and Authorization</li> <li>Input Validation</li> <li>File Security</li> <li>Configuration Security</li> <li>Production Deployment</li> <li>Security Testing</li> </ol>"},{"location":"SECURITY.html#security-features","title":"Security Features","text":"<p>The boilerplate includes comprehensive security features:</p>"},{"location":"SECURITY.html#authentication-and-authorization","title":"Authentication and Authorization","text":"<ul> <li>JWT-based authentication with timezone-aware tokens</li> <li>Password strength requirements (8+ chars, uppercase, lowercase, digit)</li> <li>Policy and Gate-based authorization</li> <li>Secure password hashing with bcrypt</li> </ul>"},{"location":"SECURITY.html#input-validation","title":"Input Validation","text":"<ul> <li>Pydantic schema validation for all requests</li> <li>File upload validation (type, size, content)</li> <li>Path traversal prevention</li> <li>Command injection prevention</li> </ul>"},{"location":"SECURITY.html#security-headers","title":"Security Headers","text":"Header Value/Description <code>X-Content-Type-Options</code> <code>nosniff</code> <code>X-Frame-Options</code> <code>DENY</code> <code>X-XSS-Protection</code> <code>1; mode=block</code> <code>Content-Security-Policy</code> Restricts resources <code>Strict-Transport-Security</code> Enabled in production (HSTS) <code>Referrer-Policy</code> Controls referrer information <code>Permissions-Policy</code> Controls browser features"},{"location":"SECURITY.html#rate-limiting","title":"Rate Limiting","text":"<ul> <li>Redis-based distributed rate limiting</li> <li>In-memory fallback for single-server deployments</li> <li>Configurable limits per endpoint</li> </ul>"},{"location":"SECURITY.html#error-handling","title":"Error Handling","text":"<ul> <li>Secure error messages (no information disclosure)</li> <li>Request ID tracking</li> <li>Proper logging without sensitive data</li> </ul>"},{"location":"SECURITY.html#authentication-and-authorization_1","title":"Authentication and Authorization","text":""},{"location":"SECURITY.html#password-requirements","title":"Password Requirements","text":"<p>Passwords must meet the following requirements: | Requirement | Value | | :--- | :--- | | Minimum Length | 8 characters | | Maximum Length | 128 characters | | Characters | At least one uppercase letter | | Characters | At least one lowercase letter | | Characters | At least one digit |</p> <pre><code># Example: Creating a user with password validation\nfrom app.schemas.user import UserCreate\n\nuser_data = UserCreate(\n    email=\"user@example.com\",\n    password=\"SecurePass123\"  # Must meet requirements\n)\n</code></pre>"},{"location":"SECURITY.html#jwt-tokens","title":"JWT Tokens","text":"<p>JWT tokens are timezone-aware and include: - Expiration time - User ID (subject) - Secure signing with HS256</p> <pre><code>from app.core.security import create_access_token\n\n# Create token\ntoken = create_access_token(user_id, expires_delta=timedelta(hours=1))\n</code></pre>"},{"location":"SECURITY.html#input-validation_1","title":"Input Validation","text":""},{"location":"SECURITY.html#request-validation","title":"Request Validation","text":"<p>Always use Pydantic schemas for request validation:</p> <pre><code>from pydantic import BaseModel, EmailStr, validator\n\nclass UserCreate(BaseModel):\n    email: EmailStr\n    password: str\n\n    @validator('password')\n    def validate_password(cls, v):\n        if len(v) &lt; 8:\n            raise ValueError('Password too short')\n        return v\n</code></pre>"},{"location":"SECURITY.html#file-upload-validation","title":"File Upload Validation","text":"<p>File uploads are automatically validated:</p> <pre><code>from app.api.v1.controllers.files import upload_file\n\n# Automatic validation includes:\n# - File type (extension and MIME type)\n# - File size (max 10MB)\n# - Filename sanitization\n# - Path traversal prevention\n</code></pre>"},{"location":"SECURITY.html#file-security","title":"File Security","text":""},{"location":"SECURITY.html#path-traversal-prevention","title":"Path Traversal Prevention","text":"<p>All file operations use path validation:</p> <pre><code>from app.core.file_security import validate_file_path\n\n# Safe file path validation\nsafe_path = validate_file_path(user_path, base_directory)\n</code></pre>"},{"location":"SECURITY.html#file-upload-security","title":"File Upload Security","text":"<p>File uploads are secured with: - Type validation (extension and MIME type) - Size limits (10MB default) - Filename sanitization - Content validation (magic bytes)</p> <pre><code># Allowed file types\nALLOWED_EXTENSIONS = {'.jpg', '.jpeg', '.png', '.pdf', ...}\nMAX_FILE_SIZE = 10 * 1024 * 1024  # 10MB\n</code></pre>"},{"location":"SECURITY.html#configuration-security","title":"Configuration Security","text":""},{"location":"SECURITY.html#environment-variables","title":"Environment Variables","text":"<p>Critical: Never commit <code>.env</code> files to version control.</p> <p>Required secrets for production: <pre><code>APP_KEY=&lt;generate-secure-32-char-key&gt;\nJWT_SECRET=&lt;generate-secure-32-char-key&gt;\n</code></pre></p> <p>Generate secure keys: <pre><code>python -c \"import secrets; print(secrets.token_urlsafe(32))\"\n</code></pre></p>"},{"location":"SECURITY.html#production-configuration","title":"Production Configuration","text":"<pre><code>APP_ENV=production\nAPP_DEBUG=false\nAPP_URL=https://yourdomain.com\n\n# CORS - Never use wildcard in production\nBACKEND_CORS_ORIGINS=[\"https://yourdomain.com\",\"https://app.yourdomain.com\"]\n\n# Cache - Use JSON only (no pickle)\nCACHE_SERIALIZER=json\n</code></pre>"},{"location":"SECURITY.html#production-deployment","title":"Production Deployment","text":""},{"location":"SECURITY.html#pre-deployment-checklist","title":"Pre-Deployment Checklist","text":"<ol> <li> <p>Generate Secure Secrets <pre><code>python -c \"import secrets; print('APP_KEY=' + secrets.token_urlsafe(32))\"\npython -c \"import secrets; print('JWT_SECRET=' + secrets.token_urlsafe(32))\"\n</code></pre></p> </li> <li> <p>Update Environment Variables</p> </li> <li>Set <code>APP_ENV=production</code></li> <li>Set <code>APP_DEBUG=false</code></li> <li>Configure secure <code>APP_KEY</code> and <code>JWT_SECRET</code></li> <li>Set proper CORS origins</li> <li> <p>Use strong database passwords</p> </li> <li> <p>Configure HTTPS</p> </li> <li>Set up SSL/TLS certificates</li> <li>Configure reverse proxy (nginx/Apache)</li> <li> <p>Enable HSTS header</p> </li> <li> <p>Set Up Redis</p> </li> <li>Configure Redis password</li> <li>Set up firewall rules</li> <li> <p>Use for distributed rate limiting</p> </li> <li> <p>Security Headers</p> </li> <li>Verify all security headers are present</li> <li>Configure CSP for your application</li> <li> <p>Enable HSTS</p> </li> <li> <p>Database Security</p> </li> <li>Use strong passwords</li> <li>Enable SSL connections</li> <li> <p>Restrict network access</p> </li> <li> <p>File Storage</p> </li> <li>Set appropriate permissions</li> <li>Use secure storage (S3 with encryption)</li> <li>Validate all file operations</li> </ol>"},{"location":"SECURITY.html#deployment-security","title":"Deployment Security","text":"<pre><code># 1. Generate secrets\npython -c \"import secrets; print(secrets.token_urlsafe(32))\"\n\n# 2. Update .env\nAPP_ENV=production\nAPP_DEBUG=false\nAPP_KEY=&lt;generated-key&gt;\nJWT_SECRET=&lt;generated-key&gt;\n\n# 3. Check for vulnerabilities\npip install safety\nsafety check\n\n# 4. Run security linter\npip install bandit\nbandit -r app/\n\n# 5. Test application\npytest\n</code></pre>"},{"location":"SECURITY.html#security-testing","title":"Security Testing","text":""},{"location":"SECURITY.html#dependency-scanning","title":"Dependency Scanning","text":"<pre><code># Check for known vulnerabilities\npip install safety\nsafety check\n\n# Or use pip-audit\npip install pip-audit\npip-audit\n</code></pre>"},{"location":"SECURITY.html#code-security-scanning","title":"Code Security Scanning","text":"<pre><code># Run Bandit security linter\npip install bandit\nbandit -r app/\n\n# Check for common issues\nbandit -r app/ -f json -o security-report.json\n</code></pre>"},{"location":"SECURITY.html#manual-security-testing","title":"Manual Security Testing","text":"<ol> <li> <p>Test Path Traversal <pre><code>curl http://localhost:8000/api/v1/files/download/../../../etc/passwd\n# Should return 403 Forbidden\n</code></pre></p> </li> <li> <p>Test File Upload <pre><code># Try uploading large file (&gt;10MB) - should fail\n# Try uploading wrong file type - should fail\n</code></pre></p> </li> <li> <p>Test Authentication <pre><code># Try accessing protected endpoint without token - should fail\n# Try WebSocket without token - should be rejected\n</code></pre></p> </li> <li> <p>Test Rate Limiting <pre><code># Make many requests quickly - should be rate limited\n</code></pre></p> </li> <li> <p>Check Security Headers <pre><code>curl -I http://localhost:8000/\n# Should see security headers\n</code></pre></p> </li> </ol>"},{"location":"SECURITY.html#common-security-issues","title":"Common Security Issues","text":""},{"location":"SECURITY.html#1-hardcoded-secrets","title":"1. Hardcoded Secrets","text":"<p>Problem: Secrets in code or default values Solution: Always use environment variables</p>"},{"location":"SECURITY.html#2-sql-injection","title":"2. SQL Injection","text":"<p>Problem: Raw SQL queries with user input Solution: Use SQLAlchemy ORM (already implemented)</p>"},{"location":"SECURITY.html#3-xss-attacks","title":"3. XSS Attacks","text":"<p>Problem: Unescaped user input in responses Solution: FastAPI automatically escapes JSON responses</p>"},{"location":"SECURITY.html#4-csrf-attacks","title":"4. CSRF Attacks","text":"<p>Problem: No CSRF protection Solution: Consider implementing CSRF tokens for state-changing operations</p>"},{"location":"SECURITY.html#5-information-disclosure","title":"5. Information Disclosure","text":"<p>Problem: Detailed error messages in production Solution: Use secure error handler (already implemented)</p>"},{"location":"SECURITY.html#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Never trust user input - Always validate</li> <li>Use parameterized queries - SQLAlchemy does this</li> <li>Implement defense in depth - Multiple security layers</li> <li>Keep dependencies updated - Regular security updates</li> <li>Use HTTPS everywhere - Especially in production</li> <li>Implement proper logging - But don't log sensitive data</li> <li>Regular security audits - Review code regularly</li> <li>Use security headers - Protect against common attacks</li> <li>Monitor for vulnerabilities - Use automated tools</li> <li>Regular penetration testing - Test your security measures</li> </ol>"},{"location":"SECURITY.html#additional-resources","title":"Additional Resources","text":"<ul> <li>OWASP Top 10</li> <li>FastAPI Security</li> <li>Python Security Best Practices</li> </ul>"},{"location":"SERVICES.html","title":"Services","text":"<p>Business logic and data access layer for the FastAPI Boilerplate.</p>"},{"location":"SERVICES.html#base-service","title":"Base Service","text":""},{"location":"SERVICES.html#service-structure","title":"Service Structure","text":"<pre><code>from typing import List, Optional, Type, TypeVar\nfrom sqlalchemy.orm import Session\nfrom pydantic import BaseModel\n\nfrom app.models.base import BaseModel as DBModel\nfrom app.core.exceptions import NotFoundException\n\nModelType = TypeVar(\"ModelType\", bound=DBModel)\nCreateSchemaType = TypeVar(\"CreateSchemaType\", bound=BaseModel)\nUpdateSchemaType = TypeVar(\"UpdateSchemaType\", bound=BaseModel)\n\nclass BaseService:\n    def __init__(self, model: Type[ModelType]):\n        self.model = model\n\n    async def get(self, db: Session, id: int) -&gt; Optional[ModelType]:\n        obj = db.query(self.model).filter(self.model.id == id).first()\n        if not obj:\n            raise NotFoundException()\n        return obj\n\n    async def list(\n        self,\n        db: Session,\n        skip: int = 0,\n        limit: int = 100\n    ) -&gt; List[ModelType]:\n        return db.query(self.model).offset(skip).limit(limit).all()\n\n    async def create(\n        self,\n        db: Session,\n        obj_in: CreateSchemaType\n    ) -&gt; ModelType:\n        obj_data = obj_in.dict()\n        db_obj = self.model(**obj_data)\n        db.add(db_obj)\n        db.commit()\n        db.refresh(db_obj)\n        return db_obj\n\n    async def update(\n        self,\n        db: Session,\n        id: int,\n        obj_in: UpdateSchemaType\n    ) -&gt; ModelType:\n        db_obj = await self.get(db, id)\n        update_data = obj_in.dict(exclude_unset=True)\n        for field, value in update_data.items():\n            setattr(db_obj, field, value)\n        db.commit()\n        db.refresh(db_obj)\n        return db_obj\n\n    async def delete(self, db: Session, id: int) -&gt; None:\n        db_obj = await self.get(db, id)\n        db.delete(db_obj)\n        db.commit()\n</code></pre>"},{"location":"SERVICES.html#user-service","title":"User Service","text":""},{"location":"SERVICES.html#user-operations","title":"User Operations","text":"<pre><code>from typing import Optional\nfrom sqlalchemy.orm import Session\nfrom passlib.context import CryptContext\n\nfrom app.models.user import User\nfrom app.schemas.user import UserCreate, UserUpdate\nfrom app.core.exceptions import NotFoundException\nfrom app.core.security import get_password_hash, verify_password\n\nclass UserService(BaseService):\n    def __init__(self):\n        super().__init__(User)\n        self.pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n    async def get_by_email(self, db: Session, email: str) -&gt; Optional[User]:\n        return db.query(User).filter(User.email == email).first()\n\n    async def create(self, db: Session, obj_in: UserCreate) -&gt; User:\n        db_obj = User(\n            email=obj_in.email,\n            hashed_password=get_password_hash(obj_in.password),\n            full_name=obj_in.full_name,\n            is_active=True\n        )\n        db.add(db_obj)\n        db.commit()\n        db.refresh(db_obj)\n        return db_obj\n\n    async def authenticate(\n        self,\n        db: Session,\n        email: str,\n        password: str\n    ) -&gt; Optional[User]:\n        user = await self.get_by_email(db, email)\n        if not user:\n            return None\n        if not verify_password(password, user.hashed_password):\n            return None\n        return user\n\n    async def update(\n        self,\n        db: Session,\n        id: int,\n        obj_in: UserUpdate\n    ) -&gt; User:\n        if obj_in.password:\n            hashed_password = get_password_hash(obj_in.password)\n            obj_in = obj_in.copy(update={\"hashed_password\": hashed_password})\n        return await super().update(db, id, obj_in)\n</code></pre>"},{"location":"SERVICES.html#post-service","title":"Post Service","text":""},{"location":"SERVICES.html#post-operations","title":"Post Operations","text":"<pre><code>from typing import List, Optional\nfrom sqlalchemy.orm import Session\n\nfrom app.models.post import Post\nfrom app.schemas.post import PostCreate, PostUpdate\nfrom app.core.exceptions import NotFoundException, ForbiddenException\n\nclass PostService(BaseService):\n    def __init__(self):\n        super().__init__(Post)\n\n    async def create(\n        self,\n        db: Session,\n        obj_in: PostCreate,\n        author_id: int\n    ) -&gt; Post:\n        db_obj = Post(\n            title=obj_in.title,\n            content=obj_in.content,\n            author_id=author_id\n        )\n        db.add(db_obj)\n        db.commit()\n        db.refresh(db_obj)\n        return db_obj\n\n    async def update(\n        self,\n        db: Session,\n        id: int,\n        obj_in: PostUpdate,\n        author_id: int\n    ) -&gt; Post:\n        post = await self.get(db, id)\n        if post.author_id != author_id:\n            raise ForbiddenException()\n        return await super().update(db, id, obj_in)\n\n    async def delete(\n        self,\n        db: Session,\n        id: int,\n        author_id: int\n    ) -&gt; None:\n        post = await self.get(db, id)\n        if post.author_id != author_id:\n            raise ForbiddenException()\n        await super().delete(db, id)\n</code></pre>"},{"location":"SERVICES.html#service-dependencies","title":"Service Dependencies","text":""},{"location":"SERVICES.html#dependency-injection","title":"Dependency Injection","text":"<pre><code>from fastapi import Depends\nfrom sqlalchemy.orm import Session\n\nfrom app.core.database import get_db\nfrom app.services.user import UserService\nfrom app.services.post import PostService\n\ndef get_user_service(db: Session = Depends(get_db)) -&gt; UserService:\n    return UserService()\n\ndef get_post_service(db: Session = Depends(get_db)) -&gt; PostService:\n    return PostService()\n</code></pre>"},{"location":"SUPPORT.html","title":"Support","text":"<p>Need help with the FastAPI Laravel-Style Boilerplate? Choose the channel that best fits your needs.</p>"},{"location":"SUPPORT.html#community-support","title":"\ud83d\udcac Community Support","text":"<ul> <li>GitHub Discussions: The best place for general questions, architectural discussions, and showing off what you've built. Join the discussion.</li> <li>Discord: (Coming Soon!) Join our real-time community chat.</li> </ul>"},{"location":"SUPPORT.html#issues","title":"\ud83d\udc1b Issues","text":"<ul> <li>Bug Reports: If something isn't working as expected, please open a bug report.</li> <li>Feature Requests: Have an idea for a new feature? Please open a feature request.</li> </ul>"},{"location":"SUPPORT.html#commercial-support","title":"\ud83c\udd98 Commercial Support","text":"<p>If you need private support, custom feature development, or consulting, please reach out to the project maintainers directly.</p> <p>[!NOTE] Please do not open issues for general support questions. Use GitHub Discussions instead.</p>"},{"location":"TASK_SCHEDULING.html","title":"Task Scheduling Guide","text":"<p>This guide explains how to use the Laravel-like task scheduling system in this FastAPI boilerplate.</p>"},{"location":"TASK_SCHEDULING.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Defining Schedules</li> <li>Schedule Frequency Options</li> <li>Task Types</li> <li>Task Modifiers</li> <li>Running the Scheduler</li> <li>Examples</li> </ol>"},{"location":"TASK_SCHEDULING.html#introduction","title":"Introduction","text":"<p>The boilerplate provides a powerful task scheduling system similar to Laravel's scheduler. Tasks are defined in <code>app/console/kernel.py</code> and can be scheduled to run at specific intervals.</p>"},{"location":"TASK_SCHEDULING.html#key-features","title":"Key Features","text":"<ul> <li>Laravel-like API: Familiar scheduling syntax</li> <li>Multiple Frequency Options: Every minute, hourly, daily, weekly, etc.</li> <li>Task Types: Commands, jobs, and shell commands</li> <li>Timezone Support: Schedule tasks in specific timezones</li> <li>Overlap Prevention: Prevent tasks from overlapping</li> <li>Conditional Execution: Run tasks based on conditions</li> <li>Task Hooks: Before and after callbacks</li> </ul>"},{"location":"TASK_SCHEDULING.html#defining-schedules","title":"Defining Schedules","text":"<p>All scheduled tasks are defined in <code>app/console/kernel.py</code> in the <code>schedule_tasks()</code> function:</p> <pre><code>from app.core.scheduler import schedule\n\ndef schedule_tasks():\n    \"\"\"Define all scheduled tasks here.\"\"\"\n\n    # Schedule a task to run every minute\n    schedule().job(example_task).every_minute()\n\n    # Schedule a task to run daily\n    schedule().job(cleanup_old_files).daily()\n\n    # Schedule a task to run hourly\n    schedule().job(process_queue).hourly()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#schedule-frequency-options","title":"Schedule Frequency Options","text":""},{"location":"TASK_SCHEDULING.html#minute-based-frequencies","title":"Minute-based Frequencies","text":"<pre><code>schedule().job(task).every_minute()\nschedule().job(task).every_two_minutes()\nschedule().job(task).every_five_minutes()\nschedule().job(task).every_ten_minutes()\nschedule().job(task).every_fifteen_minutes()\nschedule().job(task).every_thirty_minutes()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#hourly-frequencies","title":"Hourly Frequencies","text":"<pre><code>schedule().job(task).hourly()\nschedule().job(task).hourly_at(30)  # At :30 past the hour\n</code></pre>"},{"location":"TASK_SCHEDULING.html#daily-frequencies","title":"Daily Frequencies","text":"<pre><code>schedule().job(task).daily()\nschedule().job(task).daily_at('09:00')\nschedule().job(task).daily_at('14:30')\nschedule().job(task).twice_daily(1, 13)  # At 1:00 and 13:00\n</code></pre>"},{"location":"TASK_SCHEDULING.html#weekly-frequencies","title":"Weekly Frequencies","text":"<pre><code>schedule().job(task).weekly()\nschedule().job(task).weekly_on('monday', '09:00')\nschedule().job(task).weekly_on('friday', '17:00')\n</code></pre>"},{"location":"TASK_SCHEDULING.html#monthly-frequencies","title":"Monthly Frequencies","text":"<pre><code>schedule().job(task).monthly()\nschedule().job(task).monthly_on(15, '09:00')  # 15th of month at 9 AM\n</code></pre>"},{"location":"TASK_SCHEDULING.html#other-frequencies","title":"Other Frequencies","text":"<pre><code>schedule().job(task).quarterly()  # Every 3 months\nschedule().job(task).yearly()     # January 1st\nschedule().job(task).every(30)    # Every 30 seconds\n</code></pre>"},{"location":"TASK_SCHEDULING.html#custom-cron-expression","title":"Custom Cron Expression","text":"<pre><code>schedule().job(task).cron('0 0 * * *')  # Daily at midnight\nschedule().job(task).cron('0 */6 * * *')  # Every 6 hours\nschedule().job(task).cron('0 9 * * 1-5')  # 9 AM on weekdays\n</code></pre>"},{"location":"TASK_SCHEDULING.html#task-types","title":"Task Types","text":""},{"location":"TASK_SCHEDULING.html#scheduling-jobs-functions","title":"Scheduling Jobs (Functions)","text":"<pre><code>def send_daily_report():\n    \"\"\"Send daily report.\"\"\"\n    # Your logic here\n    pass\n\nschedule().job(send_daily_report).daily_at('09:00')\n</code></pre>"},{"location":"TASK_SCHEDULING.html#scheduling-commands","title":"Scheduling Commands","text":"<pre><code># Schedule an Artisan command\nschedule().command('cache:clear').daily()\nschedule().command('backup:run').daily_at('02:00')\n</code></pre>"},{"location":"TASK_SCHEDULING.html#scheduling-shell-commands","title":"Scheduling Shell Commands","text":"<pre><code># Schedule a shell command\nschedule().exec('python manage.py cleanup').daily()\nschedule().exec('php artisan backup:run').hourly()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#task-modifiers","title":"Task Modifiers","text":""},{"location":"TASK_SCHEDULING.html#timezone","title":"Timezone","text":"<pre><code>schedule().job(task).daily_at('09:00').timezone('America/New_York')\nschedule().job(task).hourly().timezone('Europe/London')\n</code></pre>"},{"location":"TASK_SCHEDULING.html#without-overlapping","title":"Without Overlapping","text":"<p>Prevent task from overlapping with previous execution:</p> <pre><code>schedule().job(long_running_task).hourly().without_overlapping()\nschedule().job(task).daily().without_overlapping(expiration=120)  # 2 hours expiration\n</code></pre>"},{"location":"TASK_SCHEDULING.html#on-one-server","title":"On One Server","text":"<p>Run task on only one server (for multi-server deployments):</p> <pre><code>schedule().job(task).daily().on_one_server()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#run-in-background","title":"Run in Background","text":"<pre><code>schedule().job(task).daily().run_in_background()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#conditional-execution","title":"Conditional Execution","text":"<pre><code># Run only when condition is true\nschedule().job(task).daily().when(lambda: some_condition())\n\n# Skip when condition is true\nschedule().job(task).daily().skip(lambda: maintenance_mode())\n</code></pre>"},{"location":"TASK_SCHEDULING.html#task-hooks","title":"Task Hooks","text":"<pre><code>def before_task():\n    print(\"Task is about to run\")\n\ndef after_task():\n    print(\"Task completed\")\n\nschedule().job(task).daily().before(before_task).after(after_task)\n</code></pre>"},{"location":"TASK_SCHEDULING.html#output-management","title":"Output Management","text":"<pre><code># Append output to file\nschedule().job(task).daily().append_output_to('logs/task.log')\n\n# Send output to file (overwrite)\nschedule().job(task).daily().send_output_to('logs/task.log')\n\n# Email output\nschedule().job(task).daily().email_output_to('admin@example.com')\n</code></pre>"},{"location":"TASK_SCHEDULING.html#running-the-scheduler","title":"Running the Scheduler","text":""},{"location":"TASK_SCHEDULING.html#development","title":"Development","text":"<p>Run the scheduler manually:</p> <pre><code>python artisan schedule:run\n</code></pre> <p>Or use the CLI:</p> <pre><code>./artisan schedule:run\n</code></pre>"},{"location":"TASK_SCHEDULING.html#production","title":"Production","text":"<p>For production, you should run the scheduler as a background service. The scheduler needs to run continuously.</p> <p>Option 1: Using systemd (Linux)</p> <p>Create <code>/etc/systemd/system/scheduler.service</code>:</p> <pre><code>[Unit]\nDescription=FastAPI Task Scheduler\nAfter=network.target\n\n[Service]\nType=simple\nUser=www-data\nWorkingDirectory=/path/to/your/app\nExecStart=/path/to/venv/bin/python artisan schedule:run\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Enable and start:</p> <pre><code>sudo systemctl enable scheduler\nsudo systemctl start scheduler\n</code></pre> <p>Option 2: Using Supervisor</p> <p>Create <code>/etc/supervisor/conf.d/scheduler.conf</code>:</p> <pre><code>[program:scheduler]\ncommand=/path/to/venv/bin/python artisan schedule:run\ndirectory=/path/to/your/app\nautostart=true\nautorestart=true\nuser=www-data\n</code></pre> <p>Option 3: Using Docker</p> <pre><code># In your Dockerfile or docker-compose.yml\nCMD [\"python\", \"artisan\", \"schedule:run\"]\n</code></pre>"},{"location":"TASK_SCHEDULING.html#list-scheduled-tasks","title":"List Scheduled Tasks","text":"<p>View all scheduled tasks:</p> <pre><code>python artisan schedule:list\n</code></pre>"},{"location":"TASK_SCHEDULING.html#examples","title":"Examples","text":""},{"location":"TASK_SCHEDULING.html#example-1-daily-cleanup","title":"Example 1: Daily Cleanup","text":"<pre><code>def cleanup_old_files():\n    \"\"\"Clean up old files daily.\"\"\"\n    from app.core.storage import storage\n    from datetime import datetime, timedelta\n\n    cutoff = datetime.now() - timedelta(days=30)\n    files = storage().files('uploads/')\n\n    for file_path in files:\n        last_modified = storage().last_modified(file_path)\n        if last_modified and datetime.fromtimestamp(last_modified) &lt; cutoff:\n            storage().delete(file_path)\n\nschedule().job(cleanup_old_files).daily_at('02:00')\n</code></pre>"},{"location":"TASK_SCHEDULING.html#example-2-hourly-queue-processing","title":"Example 2: Hourly Queue Processing","text":"<pre><code>def process_queue():\n    \"\"\"Process queued items hourly.\"\"\"\n    from app.workers.tasks import process_pending_tasks\n    process_pending_tasks()\n\nschedule().job(process_queue).hourly()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#example-3-weekly-backup","title":"Example 3: Weekly Backup","text":"<pre><code>def weekly_backup():\n    \"\"\"Run weekly backup.\"\"\"\n    import subprocess\n    subprocess.run(['python', 'backup.py'])\n\nschedule().job(weekly_backup).weekly_on('sunday', '02:00')\n</code></pre>"},{"location":"TASK_SCHEDULING.html#example-4-cache-clearing","title":"Example 4: Cache Clearing","text":"<pre><code>def clear_cache():\n    \"\"\"Clear cache every 5 minutes.\"\"\"\n    from app.core.cache import cache\n    cache().flush()\n\nschedule().job(clear_cache).every_five_minutes()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#example-5-conditional-task","title":"Example 5: Conditional Task","text":"<pre><code>def send_notification():\n    \"\"\"Send notification only during business hours.\"\"\"\n    # Your notification logic\n    pass\n\ndef is_business_hours():\n    from datetime import datetime\n    hour = datetime.now().hour\n    return 9 &lt;= hour &lt;= 17\n\nschedule().job(send_notification).every_minute().when(is_business_hours)\n</code></pre>"},{"location":"TASK_SCHEDULING.html#example-6-task-with-hooks","title":"Example 6: Task with Hooks","text":"<pre><code>def before_backup():\n    logger.info(\"Starting backup...\")\n\ndef after_backup():\n    logger.info(\"Backup completed!\")\n\ndef run_backup():\n    # Backup logic\n    pass\n\nschedule().job(run_backup).daily().before(before_backup).after(after_backup)\n</code></pre>"},{"location":"TASK_SCHEDULING.html#example-7-multiple-tasks","title":"Example 7: Multiple Tasks","text":"<pre><code>def schedule_tasks():\n    # Cleanup tasks\n    schedule().job(cleanup_old_files).daily_at('02:00')\n    schedule().job(cleanup_logs).weekly()\n\n    # Processing tasks\n    schedule().job(process_queue).every_five_minutes()\n    schedule().job(process_payments).hourly()\n\n    # Reporting tasks\n    schedule().job(send_daily_report).daily_at('09:00')\n    schedule().job(send_weekly_report).weekly_on('monday', '09:00')\n\n    # Maintenance tasks\n    schedule().job(clear_cache).every_fifteen_minutes()\n    schedule().job(optimize_database).monthly()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#best-practices","title":"Best Practices","text":"<ol> <li>Keep Tasks Lightweight: Schedule tasks should complete quickly</li> <li>Use Background Jobs: For long-running tasks, queue them instead</li> <li>Handle Errors: Always include error handling in scheduled tasks</li> <li>Log Everything: Log task execution for debugging</li> <li>Use Without Overlapping: For tasks that might take longer than the interval</li> <li>Test Locally: Test scheduled tasks before deploying</li> <li>Monitor Execution: Set up monitoring for scheduled tasks</li> </ol>"},{"location":"TASK_SCHEDULING.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"TASK_SCHEDULING.html#task-not-running","title":"Task Not Running","text":"<ol> <li>Check if scheduler is running: <code>python artisan schedule:list</code></li> <li>Check logs for errors</li> <li>Verify task is defined in <code>kernel.py</code></li> <li>Check timezone settings</li> </ol>"},{"location":"TASK_SCHEDULING.html#task-overlapping","title":"Task Overlapping","text":"<p>Use <code>without_overlapping()</code>:</p> <pre><code>schedule().job(task).hourly().without_overlapping()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#task-running-on-multiple-servers","title":"Task Running on Multiple Servers","text":"<p>Use <code>on_one_server()</code>:</p> <pre><code>schedule().job(task).daily().on_one_server()\n</code></pre>"},{"location":"TASK_SCHEDULING.html#additional-resources","title":"Additional Resources","text":"<ul> <li>APScheduler Documentation</li> <li>Laravel Task Scheduling</li> </ul>"},{"location":"artisan_commands.html","title":"Artisan Commands","text":""},{"location":"artisan_commands.html#development-server","title":"Development Server","text":"<pre><code># Start the development server\n./artisan serve\n\n# Start with auto-reload enabled\n./artisan serve --reload\n</code></pre>"},{"location":"artisan_commands.html#testing","title":"Testing","text":"<pre><code># Run all tests\n./artisan test\n\n# Run specific test file\n./artisan test tests/test_users.py\n</code></pre>"},{"location":"artisan_commands.html#documentation","title":"Documentation","text":"<pre><code># Generate API documentation\n./artisan docs:generate\n</code></pre>"},{"location":"artisan_commands.html#database","title":"Database","text":"<pre><code># Create a new model (with optional migration)\n./artisan make:model User --migration\n\n# Create and run migrations\n./artisan make:migration \"create users table\"\n./artisan migrate\n./artisan migrate:status\n./artisan migrate:rollback\n\n# Reset and refresh database\n./artisan migrate:reset    # Rollback all migrations\n./artisan migrate:refresh  # Rollback all and run all migrations\n</code></pre>"},{"location":"artisan_commands.html#database-seeding","title":"Database Seeding","text":""},{"location":"artisan_commands.html#create-a-new-seeder","title":"Create a new seeder","text":"<p><pre><code>python3 artisan make:seeder UsersSeeder\n</code></pre> This will create a new seeder file in <code>app/seeders/usersseeder.py</code> with sample data.</p>"},{"location":"artisan_commands.html#run-all-seeders","title":"Run all seeders","text":"<p><pre><code>python3 artisan db:seed\n</code></pre> This will run all seeders in the <code>app/seeders</code> directory.</p>"},{"location":"artisan_commands.html#run-specific-seeder","title":"Run specific seeder","text":"<p><pre><code>python3 artisan db:seed --seeder=UsersSeeder\n</code></pre> This will run only the specified seeder.</p>"},{"location":"artisan_commands.html#refresh-database-and-seed","title":"Refresh database and seed","text":"<p><pre><code>python3 artisan db:refresh\n</code></pre> This will: 1. Rollback all migrations 2. Run all migrations 3. Run all seeders</p>"},{"location":"artisan_commands.html#code-generation","title":"Code Generation","text":"<pre><code># Create a new service\n./artisan make:service UserService\n\n# Create service with interface\n./artisan make:service UserService --interface\n\n# Create a new controller\n./artisan make:controller User\n\n# Create a new schema\n./artisan make:schema User\n\n# Create a new middleware\n./artisan make:middleware Auth\n\n# Create a new exception\n./artisan make:exception NotFound\n\n# Create a new validator\n./artisan make:validator User\n\n# Create a new repository\n./artisan make:repository User\n</code></pre>"},{"location":"artisan_commands.html#maintenance","title":"Maintenance","text":"<p>```bash</p>"},{"location":"artisan_commands.html#generate-a-new-application-key","title":"Generate a new application key","text":"<p>./artisan key:generate</p>"},{"location":"artisan_commands.html#clear-application-cache","title":"Clear application cache","text":"<p>./artisan cache:clear</p>"},{"location":"artisan_commands.html#view-application-logs","title":"View application logs","text":"<p>./artisan logs:view</p>"},{"location":"artisan_commands.html#clear-application-logs","title":"Clear application logs","text":"<p>./artisan logs:clear</p>"},{"location":"artisan_commands.html#seed-the-database","title":"Seed the database","text":"<p>./artisan seed</p>"},{"location":"tutorial_5min.html","title":"\u23f1\ufe0f Build Your First API in 5 Minutes","text":"<p>Welcome! This tutorial will show you how to build a production-ready \"Books\" API using the FastAPI Boilerplate.</p>"},{"location":"tutorial_5min.html#1-create-a-migration","title":"1. Create a Migration","text":"<p>Let's create a table for our books.</p> <pre><code>uv run python artisan make:migration create_books_table\n</code></pre> <p>Edit the generated file in <code>alembic/versions/</code> and add the <code>books</code> table:</p> <pre><code>def upgrade() -&gt; None:\n    op.create_table(\n        \"books\",\n        sa.Column(\"id\", sa.Integer(), primary_key=True),\n        sa.Column(\"title\", sa.String(255), nullable=False),\n        sa.Column(\"author\", sa.String(255), nullable=False),\n    )\n</code></pre> <p>Run the migration: <pre><code>uv run python artisan migrate\n</code></pre></p>"},{"location":"tutorial_5min.html#2-create-the-model","title":"2. Create the Model","text":"<p>Create <code>app/models/book.py</code>:</p> <pre><code>from sqlalchemy import Column, Integer, String\nfrom app.core.database import Base\n\nclass Book(Base):\n    __tablename__ = \"books\"\n    id = Column(Integer, primary_key=True)\n    title = Column(String)\n    author = Column(String)\n</code></pre>"},{"location":"tutorial_5min.html#3-create-the-schema","title":"3. Create the Schema","text":"<p>Create <code>app/schemas/book.py</code>:</p> <pre><code>from pydantic import BaseModel\n\nclass BookCreate(BaseModel):\n    title: str\n    author: str\n\nclass BookResponse(BookCreate):\n    id: int\n    class Config:\n        from_attributes = True\n</code></pre>"},{"location":"tutorial_5min.html#4-create-the-controller","title":"4. Create the Controller","text":"<p>Run the Artisan command to generate a controller:</p> <pre><code>uv run python artisan make:controller BookController\n</code></pre> <p>Implement the <code>create</code> logic in <code>app/api/v1/controllers/book.py</code>:</p> <pre><code>from fastapi import APIRouter, Depends\nfrom sqlalchemy.orm import Session\nfrom app.core.database import get_db\nfrom app.models.book import Book\nfrom app.schemas.book import BookCreate, BookResponse\n\nrouter = APIRouter()\n\n@router.post(\"/\", response_model=BookResponse)\ndef create_book(book: BookCreate, db: Session = Depends(get_db)):\n    db_book = Book(**book.model_dump())\n    db.add(db_book)\n    db.commit()\n    db.refresh(db_book)\n    return db_book\n</code></pre>"},{"location":"tutorial_5min.html#5-register-the-routes","title":"5. Register the Routes","text":"<p>Add to <code>routes/api.py</code>:</p> <pre><code>from app.api.v1.controllers.book import router as book_router\n\nrouter.include_router(book_router, prefix=\"/books\", tags=[\"Books\"])\n</code></pre>"},{"location":"tutorial_5min.html#done","title":"\ud83c\udf89 Done!","text":"<p>Go to http://localhost:8000/docs to test your new API!</p> <p>[!TIP] Use <code>uv run python artisan make:controller --resource</code> to generate a full CRUD controller automatically!</p>"}]}