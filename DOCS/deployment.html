<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployment - FastAPI Boilerplate Documentation</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="topbar">
        <div class="topbar-left">
            <button class="sidebar-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="search-box">
                <input type="text" placeholder="Search documentation...">
                <i class="fas fa-search"></i>
            </div>
        </div>
        <div class="topbar-right">
            <div class="theme-switch-wrapper">
                <label class="theme-switch" for="checkbox">
                    <input type="checkbox" id="checkbox" />
                    <div class="slider round">
                        <i class="fas fa-sun"></i>
                        <i class="fas fa-moon"></i>
                    </div>
                </label>
            </div>
            <a href="https://github.com/your-repo" class="github-link" target="_blank">
                <i class="fab fa-github"></i>
                <span>GitHub</span>
            </a>
        </div>
    </div>
    <div class="container">
        <nav class="sidebar">
            <div class="logo">
                <h1>FastAPI Boilerplate</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="getting-started.html"><i class="fas fa-rocket"></i> Getting Started</a></li>
                <li><a href="requirements.html"><i class="fas fa-list-check"></i> Requirements</a></li>
                <li><a href="architecture.html"><i class="fas fa-sitemap"></i> Architecture</a></li>
                <li><a href="authentication.html"><i class="fas fa-shield-alt"></i> Authentication</a></li>
                <li><a href="database.html"><i class="fas fa-database"></i> Database</a></li>
                <li><a href="models.html"><i class="fas fa-table"></i> Models</a></li>
                <li><a href="controllers.html"><i class="fas fa-cogs"></i> Controllers</a></li>
                <li><a href="services.html"><i class="fas fa-server"></i> Services</a></li>
                <li><a href="schemas.html"><i class="fas fa-code"></i> Schemas</a></li>
                <li><a href="middleware.html"><i class="fas fa-layer-group"></i> Middleware</a></li>
                <li><a href="cli.html"><i class="fas fa-terminal"></i> CLI Commands</a></li>
                <li><a href="deployment.html" class="active"><i class="fas fa-cloud"></i> Deployment</a></li>
            </ul>
        </nav>
        <main class="content">
            <div class="hero">
                <h1>Deployment</h1>
                <p>Deployment options and configurations for the FastAPI Boilerplate</p>
            </div>

            <section id="docker">
                <h2>Docker Deployment</h2>
                <div class="card">
                    <h3>Docker Configuration</h3>
                    <pre><code># Dockerfile
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]</code></pre>
                </div>
                <div class="card">
                    <h3>Docker Compose</h3>
                    <pre><code># docker-compose.yml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://user:password@db:5432/dbname
    depends_on:
      - db

  db:
    image: postgres:13
    environment:
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=password
      - POSTGRES_DB=dbname
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:</code></pre>
                </div>
            </section>

            <section id="kubernetes">
                <h2>Kubernetes Deployment</h2>
                <div class="card">
                    <h3>Deployment Configuration</h3>
                    <pre><code># deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: fastapi-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: fastapi
  template:
    metadata:
      labels:
        app: fastapi
    spec:
      containers:
      - name: fastapi
        image: your-registry/fastapi-app:latest
        ports:
        - containerPort: 8000
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: db-credentials
              key: database-url</code></pre>
                </div>
                <div class="card">
                    <h3>Service Configuration</h3>
                    <pre><code># service.yaml
apiVersion: v1
kind: Service
metadata:
  name: fastapi-service
spec:
  selector:
    app: fastapi
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8000
  type: LoadBalancer</code></pre>
                </div>
            </section>

            <section id="serverless">
                <h2>Serverless Deployment</h2>
                <div class="card">
                    <h3>AWS Lambda Configuration</h3>
                    <pre><code># serverless.yml
service: fastapi-app

provider:
  name: aws
  runtime: python3.9
  region: us-east-1

functions:
  app:
    handler: handler.handler
    events:
      - http:
          path: /{proxy+}
          method: any

plugins:
  - serverless-wsgi
  - serverless-python-requirements

custom:
  wsgi:
    app: app.main:app
  pythonRequirements:
    dockerizePip: true</code></pre>
                </div>
            </section>

            <section id="environment">
                <h2>Environment Configuration</h2>
                <div class="card">
                    <h3>Environment Variables</h3>
                    <pre><code># .env.production
APP_ENV=production
DEBUG=false
SECRET_KEY=your-secret-key
DATABASE_URL=postgresql://user:password@host:5432/dbname
REDIS_URL=redis://redis:6379/0
CORS_ORIGINS=https://your-domain.com
JWT_SECRET_KEY=your-jwt-secret
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30</code></pre>
                </div>
            </section>

            <section id="monitoring">
                <h2>Monitoring and Logging</h2>
                <div class="card">
                    <h3>Prometheus Configuration</h3>
                    <pre><code># prometheus.yml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'fastapi'
    static_configs:
      - targets: ['app:8000']</code></pre>
                </div>
                <div class="card">
                    <h3>Logging Configuration</h3>
                    <pre><code># logging.yaml
version: 1
disable_existing_loggers: false

formatters:
  standard:
    format: '%(asctime)s [%(levelname)s] %(name)s: %(message)s'

handlers:
  console:
    class: logging.StreamHandler
    formatter: standard
    stream: ext://sys.stdout

  file:
    class: logging.handlers.RotatingFileHandler
    formatter: standard
    filename: /var/log/fastapi/app.log
    maxBytes: 10485760
    backupCount: 10

root:
  level: INFO
  handlers: [console, file]</code></pre>
                </div>
            </section>

            <section id="security">
                <h2>Security Considerations</h2>
                <div class="card">
                    <h3>SSL/TLS Configuration</h3>
                    <pre><code># nginx.conf
server {
    listen 443 ssl;
    server_name your-domain.com;

    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;

    location / {
        proxy_pass http://app:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}</code></pre>
                </div>
                <div class="card">
                    <h3>Security Headers</h3>
                    <pre><code># security.py
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from fastapi.middleware.trustedhost import TrustedHostMiddleware
from fastapi.middleware.gzip import GZipMiddleware

app = FastAPI()

# CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=["https://your-domain.com"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# Trusted Hosts
app.add_middleware(
    TrustedHostMiddleware,
    allowed_hosts=["your-domain.com"]
)

# GZip Compression
app.add_middleware(GZipMiddleware, minimum_size=1000)</code></pre>
                </div>
            </section>
        </main>
    </div>
    <script src="js/main.js"></script>
    <script src="js/theme.js"></script>
</body>
</html> 